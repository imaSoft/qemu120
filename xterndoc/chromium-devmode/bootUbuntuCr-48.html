<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<script async="" src="bootUbuntuCr-48_files/cbgapi.loaded_0"></script><script src="bootUbuntuCr-48_files/analytics.js" async=""></script><script type="text/javascript">/* Copyright 2008 Google. */ (function() { var b=window,e="tick",f="wtsrt_",g="tbsd_",h="tbnd_",k="start",m="_wtsrt",n="_tbnd";(function(){function l(a){this.t={};this.tick=function(a,c,d){this.t[a]=[void 0!=d?d:(new Date).getTime(),c]};this[e](k,null,a)}var a=new l;b.jstiming={Timer:l,load:a};if(b.performance&&b.performance.timing){var a=b.performance.timing,c=b.jstiming.load,d=a.navigationStart,a=a.responseStart;0<d&&a>=d&&(c[e](m,void 0,d),c[e](f,m,a),c[e](g,f))}try{a=null,b.chrome&&b.chrome.csi&&(a=Math.floor(b.chrome.csi().pageT),c&&0<d&&(c[e](n,void 0,b.chrome.csi().startE),c[e](h,n,d))),null==a&&b.gtbExternal&&(a=
b.gtbExternal.pageT()),null==a&&b.external&&(a=b.external.pageT,c&&0<d&&(c[e](n,void 0,b.external.startE),c[e](h,n,d))),a&&(b.jstiming.pt=a)}catch(p){}})(); })()
</script>
<link rel="shortcut icon" href="http://www.chromium.org/_/rsrc/1354323194313/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="http://www.gstatic.com/sites/p/229b45/system/app/images/apple-touch-icon.png" type="image/png">
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var d=window,e="length",h="",k="__duration__",l="function";function m(c){return document.getElementById(c)}d.byId=m;function n(c){return c.replace(/^\s+|\s+$/g,h)}d.trim=n;var p=[],q=0;d.JOT_addListener=function(c,a,b){var f=new String(q++);c={eventName:c,handler:a,compId:b,key:f};p.push(c);return f};d.JOT_removeListenerByKey=function(c){for(var a=0;a<p[e];a++)if(p[a].key==c){p.splice(a,1);break}};d.JOT_removeAllListenersForName=function(c){for(var a=0;a<p[e];a++)p[a].eventName==c&&p.splice(a,1)};
d.JOT_postEvent=function(c,a,b){var f={eventName:c,eventSrc:a||{},payload:b||{}};if(d.JOT_fullyLoaded){a=p[e];for(b=0;b<a&&b<p[e];b++){var g=p[b];g&&g.eventName==c&&(f.listenerCompId=g.compId||h,(g=typeof g.handler==l?g.handler:d[g.handler])&&g(f))}}else d.JOT_delayedEvents.push({eventName:c,eventSrc:a,payload:b})};d.JOT_delayedEvents=[];d.JOT_fullyLoaded=!1;
d.JOT_formatRelativeToNow=function(c,a){var b=((new Date).getTime()-c)/6E4;if(1440<=b||0>b)return null;var f=0;60<=b&&(b/=60,f=2);2<=b&&f++;return a?d.JOT_siteRelTimeStrs[f].replace(k,Math.floor(b)):d.JOT_userRelTimeStrs[f].replace(k,Math.floor(b))}; })()
</script>
<script>


var webspace = {"scottyUrl":"/_/upload","isConsumer":false,"canPublishScriptToAnyone":true,"serverFlags":{"cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"sharingUrlPrefix":"/_/sharing","csiReportUri":"http://csi.gstatic.com/csi","sharingPolicy":"OPENED_WITH_INDICATOR","analyticsAccountId":"UA-5484340-1","baseUri":"","name":"dev","domain":"chromium.org","features":{"asyncPermanentDelete":false,"folderEmbed":true,"docosHideNotificationSettings":true,"siteChromeInPlaceEditingProdLaunchPromo":true,"scottyForTrogImageUpload":false,"pdfEmbedSupport":false,"siteChromeSidebarWidgetsEditDialog":true,"canonicalLinkTagInHead":false,"siteChromeDialogsToolbar":true,"plusBadge":false,"siteChromeHorizontalNavigationDialog":true,"siteChromeSystemFooterDialog":true,"plusOneButtonOptions":true,"plusOneButton":true,"htmlEmbed":true,"siteChromeHeaderDialog":true,"siteChromeCustomFooterDialog":true,"colorsAndFontsRefactor":false,"photoAlbumsInOnePick":true},"adsensePublisherId":null,"gvizVersion":1,"siteTitle":"The Chromium Projects","pageSharingId":"jotspot_page","plusPageId":"","termsUrl":"http://www.google.com/a/help/intl/en/users/terms.html","enableAnalytics":true,"isPublic":true,"plusPageUrl":"","homePath":"/","sharingId":"jotspot","isAdsenseEnabled":true,"adsensePromoClickedOrSiteIneligible":true,"isStartPageEnabled":true,"domainAnalyticsAccountId":""};



webspace.gadgets = {"baseUri":"/system/app/pages/gadgets"};


webspace.user = {"uid":"","renderMobile":false,"primaryEmail":"guest","sessionIndex":"","namespaceUser":false,"displayNameOrEmail":"guest","namespace":"","hasAdminAccess":false,"guest_":true,"keyboardShortcuts":true,"domain":"","hasWriteAccess":false,"dasherUser":false,"userName":"guest"};

webspace.page = {"canDeleteWebspace":null,"locale":"en","state":"","wuid":"wuid:gx:4d0359363dfe547","pageInheritsPermissions":null,"timeZone":"America/Los_Angeles","properties":{},"type":"text","canChangePath":true,"parentWuid":"wuid:gx:5fbc40735c7850dc","revision":20,"title":"How to boot Ubuntu on a Cr-48","isRtlLocale":false,"bidiEnabled":false,"siteLocale":"en","name":"how-to-boot-ubuntu-on-a-cr-48","path":"/chromium-os/developer-information-for-chrome-os-devices/cr-48-chrome-notebook-developer-information/how-to-boot-ubuntu-on-a-cr-48","openMoreActionMenu":null,"isSiteRtlLocale":false,"parentPath":"/chromium-os/developer-information-for-chrome-os-devices/cr-48-chrome-notebook-developer-information"};
webspace.page.breadcrumbs = [{"title":"Chromium OS","dir":"ltr","path":"/chromium-os","deleted":false},{"title":"Developer Information for Chrome OS Devices","dir":"ltr","path":"/chromium-os/developer-information-for-chrome-os-devices","deleted":false},{"title":"Cr-48 Chrome Notebook Developer Information","dir":"ltr","path":"/chromium-os/developer-information-for-chrome-os-devices/cr-48-chrome-notebook-developer-information","deleted":false},{"title":"How to boot Ubuntu on a Cr-48","dir":"ltr","path":"/chromium-os/developer-information-for-chrome-os-devices/cr-48-chrome-notebook-developer-information/how-to-boot-ubuntu-on-a-cr-48","deleted":false}];


webspace.editorResources = {
  text: [
    'http://www.gstatic.com/sites/p/229b45/system/js/codemirror.js',
    'http://www.gstatic.com/sites/p/229b45/system/app/css/codemirror_css.css',
    'http://www.gstatic.com/sites/p/229b45/system/js/trog_edit__en.js',
    'http://www.gstatic.com/sites/p/229b45/system/app/css/trogedit.css',
    '/_/rsrc/1364510364000/system/app/css/editor.css',
    'http://www.gstatic.com/sites/p/229b45/system/app/css/codeeditor.css',
    '/_/rsrc/1364510364000/system/app/css/camelot/editor-jfk.css'
  ],
  sitelayout: [
    'http://www.gstatic.com/sites/p/229b45/system/app/css/sitelayouteditor.css'
  ]
};

var JOT_clearDotPath = 'http://www.gstatic.com/sites/p/229b45/system/app/images/cleardot.gif';


var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];


webspace.siteTemplateId = false;


webspace.page.currentTemplate = {"title":"Web Page","path":"/system/app/pagetemplates/text"};



var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="How to boot Ubuntu on a Cr-48 - The Chromium Projects">
<meta itemprop="name" content="How to boot Ubuntu on a Cr-48 - The Chromium Projects">
<meta property="og:title" content="How to boot Ubuntu on a Cr-48 - The Chromium Projects">
<meta name="description" content="Home of the Chromium Open Source Project">
<meta itemprop="description" content="Home of the Chromium Open Source Project">
<meta id="meta-tag-description" property="og:description" content="Home of the Chromium Open Source Project">
<meta itemprop="image" content="/_/rsrc/1302286216006/config/customLogo.gif?revision=2">
<meta property="og:image" content="/_/rsrc/1302286216006/config/customLogo.gif?revision=2">
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="bootUbuntuCr-48_files/standard-css-beigeandblue-ltr-ltr.css">
<link rel="stylesheet" type="text/css" href="bootUbuntuCr-48_files/overlay.css">
<link rel="stylesheet" type="text/css" href="bootUbuntuCr-48_files/symbolfont.css">
<link rel="stylesheet" type="text/css" href="bootUbuntuCr-48_files/allthemes-view.css">
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>How to boot Ubuntu on a Cr-48 - The Chromium Projects</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
<script src="bootUbuntuCr-48_files/js" charset="UTF-8" type="text/javascript"></script><link href="http://www.chromium.org/chromium-os/developer-information-for-chrome-os-devices/cr-48-chrome-notebook-developer-information/how-to-boot-ubuntu-on-a-cr-48" rel="canonical"><style>.dcs-n-dcs-mf-dcs-nf{position:relative;display:-moz-inline-box;display:inline-block}* html .dcs-n-dcs-mf-dcs-nf{display:inline}*:first-child+html .dcs-n-dcs-mf-dcs-nf{display:inline}.dcs-i-dcs-tb{-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;cursor:default;font-size:11px;font-weight:bold;text-align:center;white-space:nowrap;margin-right:16px;height:27px;line-height:27px;min-width:54px;outline:0px;padding:0 8px}.dcs-i-dcs-tb-dcs-dg{-webkit-box-shadow:0 1px 1px rgba(0,0,0,.1);-moz-box-shadow:0 1px 1px rgba(0,0,0,.1);box-shadow:0 1px 1px rgba(0,0,0,.1)}.dcs-i-dcs-tb-dcs-wd{-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1)}.dcs-i-dcs-tb .dcs-i-dcs-tb-dcs-he{margin-top:-3px;vertical-align:middle}.dcs-i-dcs-tb-dcs-ef{margin-left:5px}.dcs-i-dcs-tb-dcs-jc{min-width:34px;padding:0}.dcs-i-dcs-tb-dcs-kc-dcs-lc,.dcs-i-dcs-tb-dcs-kc-dcs-df{z-index:1}.dcs-i-dcs-tb-dcs-kc-dcs-lc.dcs-i-dcs-tb-dcs-nd{z-index:0}.dcs-i-dcs-tb-dcs-sc.dcs-i-dcs-tb-dcs-kc-dcs-lc,.dcs-i-dcs-tb-dcs-sc.dcs-i-dcs-tb-dcs-kc-dcs-df{z-index:2}.dcs-i-dcs-tb-dcs-kc-dcs-lc:focus,.dcs-i-dcs-tb-dcs-kc-dcs-df:focus,.dcs-i-dcs-tb-dcs-dg.dcs-i-dcs-tb-dcs-kc-dcs-lc,.dcs-i-dcs-tb-dcs-dg.dcs-i-dcs-tb-dcs-kc-dcs-df{z-index:3}.dcs-i-dcs-tb-dcs-kc-dcs-lc{margin-left:-1px;-moz-border-radius-bottomleft:0;-moz-border-radius-topleft:0;-webkit-border-bottom-left-radius:0;-webkit-border-top-left-radius:0;border-bottom-left-radius:0;border-top-left-radius:0}.dcs-i-dcs-tb-dcs-kc-dcs-df{margin-right:0px;-moz-border-radius-topright:0;-moz-border-radius-bottomright:0;-webkit-border-top-right-radius:0;-webkit-border-bottom-right-radius:0;border-top-right-radius:0;border-bottom-right-radius:0}.dcs-i-dcs-tb.dcs-i-dcs-tb-dcs-nd:active{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.dcs-i-dcs-tb-dcs-ub{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;background-color:#4d90fe;background-image:-webkit-linear-gradient(top,#4d90fe,#4787ed);background-image:-moz-linear-gradient(top,#4d90fe,#4787ed);background-image:-ms-linear-gradient(top,#4d90fe,#4787ed);background-image:-o-linear-gradient(top,#4d90fe,#4787ed);background-image:linear-gradient(top,#4d90fe,#4787ed);border:1px solid #3079ed;color:#fff}.dcs-i-dcs-tb-dcs-ub.dcs-i-dcs-tb-dcs-dg{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;background-color:#357ae8;background-image:-webkit-linear-gradient(top,#4d90fe,#357ae8);background-image:-moz-linear-gradient(top,#4d90fe,#357ae8);background-image:-ms-linear-gradient(top,#4d90fe,#357ae8);background-image:-o-linear-gradient(top,#4d90fe,#357ae8);background-image:linear-gradient(top,#4d90fe,#357ae8);border:1px solid #2f5bb7;border-bottom-color:#2f5bb7}.dcs-i-dcs-tb-dcs-ub:focus{-webkit-box-shadow:inset 0 0 0 1px #fff;-moz-box-shadow:inset 0 0 0 1px #fff;box-shadow:inset 0 0 0 1px #fff;border:1px solid #fff;border:1px solid rgba(0,0,0,0);outline:1px solid #4d90fe;outline:0 rgba(0,0,0,0)}.dcs-i-dcs-tb-dcs-ub.dcs-i-dcs-tb-dcs-qe-dcs-re{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;outline:none}.dcs-i-dcs-tb-dcs-ub:active{-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,0.3);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,0.3);box-shadow:inset 0 1px 2px rgba(0,0,0,0.3);background:#357ae8;border:1px solid #2f5bb7;border-top:1px solid #2f5bb7}.dcs-i-dcs-tb-dcs-ub.dcs-i-dcs-tb-dcs-nd{background:#4d90fe;filter:alpha(opacity=50);opacity:0.5}.dcs-i-dcs-tb-dcs-pd{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;background-color:#f5f5f5;background-image:-webkit-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-moz-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-ms-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-o-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:linear-gradient(top,#f5f5f5,#f1f1f1);color:#444;border:1px solid #dcdcdc;border:1px solid rgba(0,0,0,0.1)}.dcs-i-dcs-tb-dcs-pd.dcs-i-dcs-tb-dcs-dg,.dcs-i-dcs-tb-dcs-pd.dcs-i-dcs-tb-dcs-qe-dcs-re.dcs-i-dcs-tb-dcs-dg{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;background-color:#f8f8f8;background-image:-webkit-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-moz-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-ms-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-o-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:linear-gradient(top,#f8f8f8,#f1f1f1);border:1px solid #c6c6c6;color:#333}.dcs-i-dcs-tb-dcs-pd:active,.dcs-i-dcs-tb-dcs-pd.dcs-i-dcs-tb-dcs-dg:active{-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1);background:#f8f8f8}.dcs-i-dcs-tb-dcs-pd.dcs-i-dcs-tb-dcs-wd,.dcs-i-dcs-tb-dcs-pd.dcs-i-dcs-tb-dcs-qe-dcs-re.dcs-i-dcs-tb-dcs-wd{background-color:#eee;background-image:-webkit-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-moz-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-ms-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-o-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:linear-gradient(top,#f8f8f8,#f1f1f1);border:1px solid #ccc;color:#333}.dcs-i-dcs-tb-dcs-pd.dcs-i-dcs-tb-dcs-sc,.dcs-i-dcs-tb-dcs-pd.dcs-i-dcs-tb-dcs-qe-dcs-re.dcs-i-dcs-tb-dcs-sc{-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1);background-color:#eee;background-image:-webkit-linear-gradient(top,#eee,#e0e0e0);background-image:-moz-linear-gradient(top,#eee,#e0e0e0);background-image:-ms-linear-gradient(top,#eee,#e0e0e0);background-image:-o-linear-gradient(top,#eee,#e0e0e0);background-image:linear-gradient(top,#eee,#e0e0e0);border:1px solid #ccc;color:#333}.dcs-i-dcs-tb-dcs-pd:focus{border:1px solid #4d90fe;outline:none}.dcs-i-dcs-tb-dcs-pd.dcs-i-dcs-tb-dcs-qe-dcs-re{border:1px solid #dcdcdc;outline:none}.dcs-i-dcs-tb-dcs-pd.dcs-i-dcs-tb-dcs-nd{background:#fff;border:1px solid #f3f3f3;border:1px solid rgba(0,0,0,0.05);color:#b8b8b8}.dcs-i-dcs-tb-dcs-pd .dcs-i-dcs-tb-dcs-he{opacity:.55}.dcs-i-dcs-tb-dcs-pd.dcs-i-dcs-tb-dcs-sc .dcs-i-dcs-tb-dcs-he,.dcs-i-dcs-tb-dcs-pd.dcs-i-dcs-tb-dcs-wd .dcs-i-dcs-tb-dcs-he,.dcs-i-dcs-tb-dcs-pd.dcs-i-dcs-tb-dcs-dg .dcs-i-dcs-tb-dcs-he{opacity:0.9}.dcs-i-dcs-tb-dcs-pd.dcs-i-dcs-tb-dcs-nd .dcs-i-dcs-tb-dcs-he{filter:alpha(opacity=33);opacity:0.333}.dcs-n-dcs-rf,.dcs-bd-dcs-cd{-webkit-box-shadow:0 4px 16px rgba(0,0,0,.2);-moz-box-shadow:0 4px 16px rgba(0,0,0,.2);box-shadow:0 4px 16px rgba(0,0,0,.2);background:#fff;background-clip:padding-box;border:1px solid #acacac;border:1px solid rgba(0,0,0,.333);outline:0;position:absolute}.dcs-n-dcs-rf-dcs-ad,.dcs-bd-dcs-cd-dcs-ad{background:#fff;left:0;position:absolute;top:0}div.dcs-n-dcs-rf-dcs-ad,div.dcs-bd-dcs-cd-dcs-ad{filter:alpha(opacity=75);-moz-opacity:.75;opacity:.75}.dcs-bd-dcs-cd{color:#000;padding:30px 42px}.dcs-bd-dcs-cd-dcs-zd{background-color:#fff;color:#000;cursor:default;font-size:16px;font-weight:normal;line-height:24px;margin:0 0 16px}.dcs-bd-dcs-cd-dcs-zd-dcs-af{height:11px;opacity:0.7;padding:17px;position:absolute;right:0px;top:0px;width:11px}.dcs-bd-dcs-cd-dcs-zd-dcs-af:after{content:'';background:url(//ssl.gstatic.com/ui/v1/dialog/close-x.png);position:absolute;height:11px;width:11px;right:17px}.dcs-bd-dcs-cd-dcs-zd-dcs-af:hover{opacity:1}.dcs-bd-dcs-cd-dcs-t{background-color:#fff;line-height:1.4em}.dcs-bd-dcs-cd-dcs-gc{margin-top:16px}.dcs-bd-dcs-cd-dcs-gc button{-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;background-color:#f5f5f5;background-image:-webkit-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-moz-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-ms-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-o-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:linear-gradient(top,#f5f5f5,#f1f1f1);border:1px solid #dcdcdc;border:1px solid rgba(0,0,0,0.1);color:#444;cursor:default;font-size:11px;font-weight:bold;height:29px;line-height:27px;margin:0 16px 0 0;min-width:72px;outline:0;padding:0 8px}.dcs-bd-dcs-cd-dcs-gc button:hover,.dcs-bd-dcs-cd-dcs-gc button:active{-webkit-box-shadow:0px 1px 1px rgba(0,0,0,0.1);-moz-box-shadow:0px 1px 1px rgba(0,0,0,0.1);box-shadow:0px 1px 1px rgba(0,0,0,0.1);background-color:#f8f8f8;background-image:-webkit-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-moz-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-ms-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-o-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:linear-gradient(top,#f8f8f8,#f1f1f1);border:1px solid #c6c6c6;color:#333}.dcs-bd-dcs-cd-dcs-gc button:active{-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.dcs-bd-dcs-cd-dcs-gc button:focus{border:1px solid #4d90fe}.dcs-bd-dcs-cd-dcs-gc button[disabled]{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;background:#fff;background-image:none;border:1px solid #f3f3f3;border:1px solid rgba(0,0,0,0.05);color:#b8b8b8}.dcs-bd-dcs-cd-dcs-gc .dcs-n-dcs-vd-dcs-ub{background-color:#4d90fe;background-image:-webkit-linear-gradient(top,#4d90fe,#4787ed);background-image:-moz-linear-gradient(top,#4d90fe,#4787ed);background-image:-ms-linear-gradient(top,#4d90fe,#4787ed);background-image:-o-linear-gradient(top,#4d90fe,#4787ed);background-image:linear-gradient(top,#4d90fe,#4787ed);border:1px solid #3079ed;color:#fff}.dcs-bd-dcs-cd-dcs-gc .dcs-n-dcs-vd-dcs-ub:hover,.dcs-bd-dcs-cd-dcs-gc .dcs-n-dcs-vd-dcs-ub:active{background-color:#357ae8;background-image:-webkit-linear-gradient(top,#4d90fe,#357ae8);background-image:-moz-linear-gradient(top,#4d90fe,#357ae8);background-image:-ms-linear-gradient(top,#4d90fe,#357ae8);background-image:-o-linear-gradient(top,#4d90fe,#357ae8);background-image:linear-gradient(top,#4d90fe,#357ae8);border:1px solid #2f5bb7;color:#fff}.dcs-bd-dcs-cd-dcs-gc .dcs-n-dcs-vd-dcs-ub:active{-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,0.3);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,0.3);box-shadow:inset 0 1px 2px rgba(0,0,0,0.3)}.dcs-bd-dcs-cd-dcs-gc .dcs-n-dcs-vd-dcs-ub:focus{-webkit-box-shadow:inset 0 0 0 1px #fff;-moz-box-shadow:inset 0 0 0 1px #fff;box-shadow:inset 0 0 0 1px #fff;border:1px solid #fff;border:1px solid rgba(0,0,0,0);outline:1px solid #4d90fe;outline:0 rgba(0,0,0,0)}.dcs-bd-dcs-cd-dcs-gc .dcs-n-dcs-vd-dcs-ub[disabled]{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;background:#4d90fe;color:#fff;filter:alpha(opacity=50);opacity:0.5}.dcs-i-dcs-lf,.dcs-i-dcs-yc,.dcs-i-dcs-j{width:512px}.dcs-n-dcs-oe{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-box-shadow:0 2px 4px rgba(0,0,0,0.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,0.2);box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-transition:opacity 0.218s;-moz-transition:opacity 0.218s;-o-transition:opacity 0.218s;transition:opacity 0.218s;background:#fff;border:1px solid #ccc;border:1px solid rgba(0,0,0,.2);cursor:default;font-size:13px;margin:0;outline:none;padding:6px 0;position:absolute}.dcs-n-dcs-o,.dcs-n-dcs-fg,.dcs-n-dcs-gg{position:relative;color:#333;cursor:pointer;list-style:none;margin:0;padding:6px 8em 6px 30px;white-space:nowrap}.dcs-n-dcs-oe-dcs-hg .dcs-n-dcs-o,.dcs-n-dcs-oe-dcs-ig .dcs-n-dcs-o{padding-left:16px;vertical-align:middle}.dcs-n-dcs-oe-dcs-jg .dcs-n-dcs-o{padding-right:44px}.dcs-n-dcs-o-dcs-nd{cursor:default}.dcs-n-dcs-o-dcs-nd .dcs-n-dcs-o-dcs-cc,.dcs-n-dcs-o-dcs-nd .dcs-n-dcs-o-dcs-t{color:#ccc!important}.dcs-n-dcs-o-dcs-nd .dcs-n-dcs-o-dcs-cb{filter:alpha(opacity=30);opacity:0.3}.dcs-n-dcs-o-dcs-ie,.dcs-n-dcs-o-dcs-dg{background-color:#eee;border-color:#eee;border-style:dotted;border-width:1px 0;padding-top:5px;padding-bottom:5px}.dcs-n-dcs-o-dcs-ie .dcs-n-dcs-o-dcs-t,.dcs-n-dcs-o-dcs-dg .dcs-n-dcs-o-dcs-t{color:#333}.dcs-n-dcs-o-dcs-ee,.dcs-n-dcs-o-dcs-cb{background-repeat:no-repeat;height:21px;left:3px;position:absolute;right:auto;top:3px;vertical-align:middle;width:21px}.dcs-n-dcs-rd-dcs-wd{background-image:url(//ssl.gstatic.com/ui/v1/menu/checkmark.png);background-repeat:no-repeat;background-position:left center}.dcs-n-dcs-rd-dcs-wd .dcs-n-dcs-o-dcs-t,.dcs-n-dcs-rd-dcs-wd .dcs-n-dcs-o-dcs-t{color:#333}.dcs-n-dcs-o-dcs-cc{color:#777;direction:ltr;left:auto;padding:0 6px;position:absolute;right:0;text-align:right}.dcs-n-dcs-o-dcs-dd-dcs-kg{text-decoration:underline}.dcs-n-dcs-o-dcs-dd-dcs-ed{color:#777;font-size:12px;padding-left:4px}.dcs-i-dcs-tf::-webkit-scrollbar{height:16px;overflow:visible;width:16px}.dcs-i-dcs-tf::-webkit-scrollbar-button{height:0;width:0}.dcs-i-dcs-tf::-webkit-scrollbar-track{background-clip:padding-box;border:solid transparent;border-width:0 0 0 4px}.dcs-i-dcs-tf::-webkit-scrollbar-track:horizontal{border-width:4px 0 0}.dcs-i-dcs-tf::-webkit-scrollbar-track:hover{background-color:rgba(0,0,0,.05);box-shadow:inset 1px 0 0 rgba(0,0,0,.1)}.dcs-i-dcs-tf::-webkit-scrollbar-track:horizontal:hover{box-shadow:inset 0 1px 0 rgba(0,0,0,.1)}.dcs-i-dcs-tf::-webkit-scrollbar-track:active{background-color:rgba(0,0,0,.05);box-shadow:inset 1px 0 0 rgba(0,0,0,.14),inset -1px 0 0 rgba(0,0,0,.07)}.dcs-i-dcs-tf::-webkit-scrollbar-track:horizontal:active{box-shadow:inset 0 1px 0 rgba(0,0,0,.14),inset 0 -1px 0 rgba(0,0,0,.07)}.dcs-i-dcs-tf-dcs-lg.dcs-i-dcs-tf::-webkit-scrollbar-track:hover{background-color:rgba(255,255,255,.1);box-shadow:inset 1px 0 0 rgba(255,255,255,.2)}.dcs-i-dcs-tf-dcs-lg.dcs-i-dcs-tf::-webkit-scrollbar-track:horizontal:hover{box-shadow:inset 0 1px 0 rgba(255,255,255,.2)}.dcs-i-dcs-tf-dcs-lg.dcs-i-dcs-tf::-webkit-scrollbar-track:active{background-color:rgba(255,255,255,.1);box-shadow:inset 1px 0 0 rgba(255,255,255,.25),inset -1px 0 0 rgba(255,255,255,.15)}.dcs-i-dcs-tf-dcs-lg.dcs-i-dcs-tf::-webkit-scrollbar-track:horizontal:active{box-shadow:inset 0 1px 0 rgba(255,255,255,.25),inset 0 -1px 0 rgba(255,255,255,.15)}.dcs-i-dcs-tf::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2);background-clip:padding-box;border:solid transparent;border-width:1px 1px 1px 6px;min-height:28px;padding:100px 0 0;box-shadow:inset 1px 1px 0 rgba(0,0,0,.1),inset 0 -1px 0 rgba(0,0,0,.07)}.dcs-i-dcs-tf::-webkit-scrollbar-thumb:horizontal{border-width:6px 1px 1px;padding:0 0 0 100px;box-shadow:inset 1px 1px 0 rgba(0,0,0,.1),inset -1px 0 0 rgba(0,0,0,.07)}.dcs-i-dcs-tf::-webkit-scrollbar-thumb:hover{background-color:rgba(0,0,0,.4);box-shadow:inset 1px 1px 1px rgba(0,0,0,.25)}.dcs-i-dcs-tf::-webkit-scrollbar-thumb:active{background-color:rgba(0,0,0,0.5);box-shadow:inset 1px 1px 3px rgba(0,0,0,0.35)}.dcs-i-dcs-tf-dcs-lg.dcs-i-dcs-tf::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,.3);box-shadow:inset 1px 1px 0 rgba(255,255,255,.15),inset 0 -1px 0 rgba(255,255,255,.1)}.dcs-i-dcs-tf-dcs-lg.dcs-i-dcs-tf::-webkit-scrollbar-thumb:horizontal{box-shadow:inset 1px 1px 0 rgba(255,255,255,.15),inset -1px 0 0 rgba(255,255,255,.1)}.dcs-i-dcs-tf-dcs-lg.dcs-i-dcs-tf::-webkit-scrollbar-thumb:hover{background-color:rgba(255,255,255,.6);box-shadow:inset 1px 1px 1px rgba(255,255,255,.37)}.dcs-i-dcs-tf-dcs-lg.dcs-i-dcs-tf::-webkit-scrollbar-thumb:active{background-color:rgba(255,255,255,.75);box-shadow:inset 1px 1px 3px rgba(255,255,255,.5)}.dcs-i-dcs-tf-dcs-mg.dcs-i-dcs-tf::-webkit-scrollbar-track{border-width:0 1px 0 6px}.dcs-i-dcs-tf-dcs-mg.dcs-i-dcs-tf::-webkit-scrollbar-track:horizontal{border-width:6px 0 1px}.dcs-i-dcs-tf-dcs-mg.dcs-i-dcs-tf::-webkit-scrollbar-track:hover{background-color:rgba(0,0,0,.035);box-shadow:inset 1px 1px 0 rgba(0,0,0,.14),inset -1px -1px 0 rgba(0,0,0,.07)}.dcs-i-dcs-tf-dcs-mg.dcs-i-dcs-tf-dcs-lg.dcs-i-dcs-tf::-webkit-scrollbar-track:hover{background-color:rgba(255,255,255,.07);box-shadow:inset 1px 1px 0 rgba(255,255,255,.25),inset -1px -1px 0 rgba(255,255,255,.15)}.dcs-i-dcs-tf-dcs-mg.dcs-i-dcs-tf::-webkit-scrollbar-thumb{border-width:0 1px 0 6px}.dcs-i-dcs-tf-dcs-mg.dcs-i-dcs-tf::-webkit-scrollbar-thumb:horizontal{border-width:6px 0 1px}.dcs-i-dcs-tf::-webkit-scrollbar-corner{background:transparent}body.dcs-i-dcs-tf::-webkit-scrollbar-track-piece{background-clip:padding-box;background-color:#f5f5f5;border:solid #fff;border-width:0 0 0 3px;box-shadow:inset 1px 0 0 rgba(0,0,0,.14),inset -1px 0 0 rgba(0,0,0,.07)}body.dcs-i-dcs-tf::-webkit-scrollbar-track-piece:horizontal{border-width:3px 0 0;box-shadow:inset 0 1px 0 rgba(0,0,0,.14),inset 0 -1px 0 rgba(0,0,0,.07)}body.dcs-i-dcs-tf::-webkit-scrollbar-thumb{border-width:1px 1px 1px 5px}body.dcs-i-dcs-tf::-webkit-scrollbar-thumb:horizontal{border-width:5px 1px 1px}body.dcs-i-dcs-tf::-webkit-scrollbar-corner{background-clip:padding-box;background-color:#f5f5f5;border:solid #fff;border-width:3px 0 0 3px;box-shadow:inset 1px 1px 0 rgba(0,0,0,.14)}.dcs-bd-dcs-cd{z-index:1001}.dcs-bd-dcs-cd-dcs-ad{z-index:1000}.dcs-bd-dcs-cd-dcs-zd-dcs-af{background-image:none}.dcs-n-dcs-oe{z-index:1001}.dcs-a-dcs-dc-dcs-mb{width:12px;height:12px;vertical-align:baseline}.dcs-a-dcs-dc-dcs-eb{background:none;background-image:none!important;border:none;font-size:10px;height:11px;left:0;margin:auto;position:absolute;top:3px;width:12px}.dcs-a-dcs-dc-dcs-eb-dcs-q-dcs-u,.dcs-a-dcs-dc-dcs-eb-dcs-mb-dcs-u{border:none!important;height:11px;margin:0;padding:0;width:12px}.dcs-a-dcs-dc{padding:3px}.dcs-a-dcs-dc>.dcs-n-dcs-o{padding:3px}.dcs-a-dcs-dc>.dcs-n-dcs-o.dcs-n-dcs-rd-dcs-wd{padding-left:22px}.dcs-a-dcs-dc>.dcs-n-dcs-o-dcs-ie,.dcs-a-dcs-dc>.dcs-n-dcs-o-dcs-dg{padding:2px 3px}.dcs-a-dcs-dc>.dcs-n-dcs-o>.dcs-n-dcs-o-dcs-t{font-size:12px}.dcs-a-dcs-b{background-color:#fff;cursor:pointer;direction:ltr;position:relative;width:210px}.dcs-a-dcs-b:hover,.dcs-a-dcs-vb-dcs-xd.dcs-a-dcs-b{background-color:#f1f1f1!important;border-color:#c6c6c6!important;background:-webkit-gradient(linear,0 0,0 60,from(#f8f8f8),to(#f1f1f1))!important;background:-moz-linear-gradient(top,#f8f8f8 0,#f1f1f1 60px)!important}.dcs-a-dcs-b:focus,.dcs-a-dcs-b:active{outline:0}.dcs-a-dcs-b-dcs-de-dcs-q,.dcs-a-dcs-b-dcs-de-dcs-mb{display:none}.dcs-a-dcs-vb-dcs-jd.dcs-a-dcs-b,.dcs-a-dcs-vb-dcs-jd.dcs-a-dcs-b:hover{background:#fcfac6!important;border-color:#ffe572!important}.dcs-a-dcs-b-dcs-rb-dcs-tb{display:none;font-size:10px;right:0;padding-left:2px;position:absolute;top:0}.dcs-a-dcs-vb-dcs-jd.dcs-a-dcs-b .dcs-a-dcs-b-dcs-rb-dcs-tb{display:block;opacity:0.3;filter:alpha(opacity=30)}.dcs-a-dcs-vb-dcs-jd.dcs-a-dcs-b:hover .dcs-a-dcs-b-dcs-rb-dcs-tb{opacity:1;filter:alpha(opacity=100)}.dcs-a-dcs-b-dcs-sf{max-height:inherit;overflow-y:auto}.dcs-a-dcs-b-dcs-t{overflow-y:auto}.dcs-a-dcs-b-dcs-c-dcs-d{border-top:1px solid #f0f0f0;display:none;padding:7px}.dcs-a-dcs-vb-dcs-jd.dcs-a-dcs-b .dcs-a-dcs-b-dcs-c-dcs-d{border-top:1px solid #feef9c;display:block}.dcs-a-dcs-b-dcs-c-dcs-d .dcs-a-dcs-c-dcs-id{height:23px}.dcs-a-dcs-b-dcs-c-dcs-d .dcs-a-dcs-c-dcs-gc{text-align:left}.dcs-a-dcs-xe-dcs-c-dcs-d{border-top:none!important;padding-top:0}.dcs-a-dcs-b .dcs-a-dcs-c-dcs-ob-dcs-pb-dcs-qb{color:#999;font-size:11px}.dcs-a-dcs-b .dcs-a-dcs-b-dcs-lb{border-top:1px solid #feef9c;bottom:0;left:0;padding-top:6px;position:relative;width:100%}.dcs-a-dcs-b .dcs-a-dcs-lb-dcs-yd{font-weight:bold;margin-right:6px;padding:2px 0}.dcs-a-dcs-e-dcs-zf .dcs-a-dcs-b{border:1px solid #d9d9d9;position:absolute;-moz-user-select:text;z-index:500}.dcs-a-dcs-e-dcs-zf .dcs-a-dcs-vb-dcs-jd.dcs-a-dcs-b{border:1px solid #ffe764;z-index:501}.dcs-a-dcs-e-dcs-zf-dcs-cg .dcs-a-dcs-b{box-shadow:2px 2px 6px #888}.dcs-a-dcs-e-dcs-f .dcs-a-dcs-b-dcs-de-dcs-q,.dcs-a-dcs-b-dcs-de-dcs-mb{height:0;position:absolute;width:0}.dcs-a-dcs-e-dcs-f .dcs-a-dcs-b-dcs-de-dcs-q{border-top:none;border-bottom:14px solid transparent;border-left:none;border-right:14px solid #fcfac6;left:-13px;top:0}.dcs-a-dcs-e-dcs-f .dcs-a-dcs-b-dcs-de-dcs-mb{border-top:none;border-bottom:14px solid transparent;border-left:none;border-right:14px solid #ffe572;left:-15px;top:-1px}.dcs-a-dcs-e-dcs-f .dcs-a-dcs-vb-dcs-jd.dcs-a-dcs-b>.dcs-a-dcs-b-dcs-de-dcs-q,.dcs-a-dcs-e-dcs-f .dcs-a-dcs-vb-dcs-jd.dcs-a-dcs-b>.dcs-a-dcs-b-dcs-de-dcs-mb{display:block}.dcs-a-dcs-b-dcs-rb-dcs-tb>.dcs-i-dcs-tb{height:17px;line-height:17px;margin:2px 2px 0 0}.dcs-a-dcs-ab,.dcs-a-dcs-wb{border-top:1px solid #f0f0f0;padding:7px;position:relative;zoom:1}.dcs-a-dcs-ab-dcs-k{left:7px!important}.dcs-a-dcs-ab.dcs-a-dcs-jb-dcs-we{border-top:none!important}.dcs-a-dcs-vb-dcs-jd.dcs-a-dcs-b .dcs-a-dcs-ab,.dcs-a-dcs-vb-dcs-jd.dcs-a-dcs-b .dcs-a-dcs-wb{border-top:1px solid #feef9c}.dcs-a-dcs-ab-dcs-ac{font-weight:bold;margin-left:32px}.dcs-a-dcs-ab-dcs-bb{word-wrap:break-word;color:#666;padding-top:3px;padding-bottom:3px}.dcs-a-dcs-ab-dcs-hd{color:#666;font-size:10px;margin:3px 0 0 32px}.dcs-a-dcs-ab .dcs-a-dcs-jb-dcs-sb{display:none}.dcs-a-dcs-vb-dcs-jd.dcs-a-dcs-b .dcs-a-dcs-jb-dcs-sb,.dcs-a-dcs-vb-dcs-jd.dcs-a-dcs-wb .dcs-a-dcs-jb-dcs-sb{display:block}.dcs-a-dcs-wb-dcs-xb{word-wrap:break-word;color:#15c}.dcs-a-dcs-wb-dcs-xb:hover,.dcs-a-dcs-b:hover .dcs-a-dcs-wb-dcs-xb{text-decoration:underline}.dcs-a-dcs-zb-dcs-jb{position:relative}.dcs-a-dcs-xb-dcs-jb{height:150px;overflow:hidden}.dcs-a-dcs-gb-dcs-ge,.dcs-a-dcs-gb-dcs-ag{color:#15c;display:none;opacity:1;width:100%}.dcs-a-dcs-gb-dcs-ge{bottom:0;padding-top:16px;position:absolute;right:0}.dcs-a-dcs-gb-dcs-ag{background:#fff;padding:2px 0}.dcs-a-dcs-gb-dcs-ge:hover,.dcs-a-dcs-gb-dcs-ag:hover{text-decoration:underline}.dcs-a-dcs-b.dcs-a-dcs-vb:hover .dcs-a-dcs-gb-dcs-ge{background:#f1f1f1;background:-webkit-gradient(linear,0 0,0 16,from(rgba(241,241,241,0)),to(rgba(241,241,241,1)));background:-moz-linear-gradient(top,rgba(241,241,241,0),#f1f1f1 16px);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0, FinishOpacity=100, Style=1, StartY=0, FinishY=50, StartX=0, FinishX=0)";filter:alpha(Opacity=0,FinishOpacity=100,Style=1,StartY=0,FinishY=50,StartX=0,FinishX=0)}.dcs-a-dcs-b.dcs-a-dcs-vb-dcs-jd .dcs-a-dcs-gb-dcs-ge,.dcs-a-dcs-b.dcs-a-dcs-vb-dcs-jd:hover .dcs-a-dcs-gb-dcs-ge{background:#fcfac6;background:-webkit-gradient(linear,0 0,0 16,from(rgba(252,250,198,0)),to(rgba(252,250,198,1)));background:-moz-linear-gradient(top,rgba(252,250,198,0),#fcfac6 16px);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0, FinishOpacity=100, StartY=0, FinishY=50, Style=1, StartX=0, FinishX=0)";filter:alpha(Opacity=0,FinishOpacity=100,Style=1,StartY=0,FinishY=50,StartX=0,FinishX=0)}.dcs-a-dcs-gb-dcs-ge{background:#fff;background:-webkit-gradient(linear,0 0,0 16,from(rgba(255,255,255,0)),to(rgba(255,255,255,1)));background:-moz-linear-gradient(top,rgba(255,255,255,0),#fff 16px);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0, FinishOpacity=100, StartY=0, FinishY=50, Style=1, StartX=0, FinishX=0)";filter:alpha(Opacity=0,FinishOpacity=100,Style=1,StartY=0,FinishY=50,StartX=0,FinishX=0)}.dcs-a-dcs-xb-dcs-jb>.dcs-a-dcs-gb-dcs-ge{display:block!important}.dcs-a-dcs-b.dcs-a-dcs-vb-dcs-jd .dcs-a-dcs-gb-dcs-ag{background:#fcfac6!important}.dcs-a-dcs-b:hover .dcs-a-dcs-gb-dcs-ag{background:#f1f1f1}.dcs-a-dcs-l{background:#e0ecff;border:1px solid #666;color:#00c;font-family:Arial;margin:0px 0px;padding:0px 0px 1px 0px;position:absolute;z-index:900}.dcs-a-dcs-l div{cursor:pointer;margin:2px;padding:0px 10px}.dcs-a-dcs-l div b{color:#00f}.dcs-a-dcs-l .dcs-l-dcs-m{height:auto}.dcs-a-dcs-l div.dcs-jd{background:#c3d9ff}.dcs-a-dcs-k{left:0;position:absolute}.dcs-a-dcs-bf-dcs-cf{font:10px/12px Arial;color:#bbb;text-align:right;padding-right:30px}.dcs-a-dcs-bf-dcs-cf a{color:#bbb}.dcs-a-dcs-ec-dcs-fc{width:620px}.dcs-a{color:black;font-family:Arial,sans-serif,sans;font-size:13px;white-space:normal}.dcs-a-dcs-cb{background-image:url(//ssl.gstatic.com/docs/common/d-icons10.png);background-repeat:no-repeat}.dcs-a-dcs-cb-dcs-rb-dcs-wc{background-position:-28px -26;height:37px;position:absolute;width:37px}.dcs-a-dcs-cb-dcs-rb-dcs-wc-dcs-xc{background-position:0 -36px;height:27px;position:absolute;width:27px}.dcs-a-dcs-cb-dcs-db-dcs-eb{background-position:0 -11px;height:11px;width:12px}.dcs-a-dcs-cb-dcs-db-dcs-eb:hover,.dcs-n-dcs-oe-dcs-tb-dcs-ke .dcs-a-dcs-cb-dcs-db-dcs-eb{background-position:0 0;height:11px;width:12px}.dcs-a-dcs-c{position:relative;zoom:1}.dcs-a-dcs-c.dcs-a-dcs-c-dcs-hc{display:block!important}.dcs-a-dcs-c-dcs-p-dcs-q{border-top:7px solid transparent;border-right:8px solid #fff;border-bottom:7px solid transparent;height:0;left:-6px;position:absolute;top:3px}.dcs-a-dcs-c-dcs-p-dcs-mb{border-top:7px solid transparent;border-right:8px solid #c8c8c8;border-bottom:7px solid transparent;height:0;left:-7px;position:absolute;top:3px}.dcs-a-dcs-c-dcs-id{border:1px solid #c8c8c8;box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-webkit-box-sizing:border-box;color:#999;font-family:Arial,sans-serif;font-size:13px;margin:0;overflow-x:hidden;overflow-y:hidden;outline-width:0!important;padding:4px;resize:none;width:100%}.dcs-a-dcs-c-dcs-id:disabled{background-color:#eee!important}*:first-child+html .dcs-a-dcs-c-dcs-id{width:95%}.dcs-a-dcs-c-dcs-gc{display:none;zoom:1}.dcs-a-dcs-c-dcs-gc-dcs-se{font-weight:bold}.dcs-a-dcs-c-dcs-mc>.dcs-a-dcs-c-dcs-id{color:#000}.dcs-a-dcs-c-dcs-mc>.dcs-a-dcs-c-dcs-gc{display:block}.dcs-a-dcs-ld-dcs-t{width:500px}.dcs-a-dcs-ld-dcs-ef{padding:0 3px 0 8px}.dcs-a-dcs-ld-dcs-sb{padding-left:3px}.dcs-a-dcs-ld-dcs-ye{position:absolute;right:20px}.dcs-a-dcs-ld-dcs-uf{background-color:#c1d9ff;border:0;color:#c1d9ff;height:1px;margin:10px 0 10px 0}.dcs-a-dcs-ib .dcs-me-dcs-hb-dcs-ib{display:none!important}.dcs-gb-dcs-hb-dcs-ib{display:none}.dcs-a-dcs-ib .dcs-gb-dcs-hb-dcs-ib{display:inline-block!important}.dcs-a-dcs-rb-dcs-ie{border:1px solid rgba(0,0,0,0.2)}.dcs-a-dcs-rb-dcs-gf{-webkit-transition:all 270ms ease-out;-moz-transition:all 270ms ease-out;-o-transition:all 270ms ease-out;transition:all 270ms ease-out;-webkit-transform:scale(0.3);-moz-transform:scale(0.3);-o-transform:scale(0.3);transform:scale(0.3);-webkit-transform-origin:center top;-moz-transform-origin:center top;-o-transform-origin:center top;transform-origin:center top;opacity:0.3}#docos-shadow{background:#000;background:rgba(0,0,0,0.7);color:#fff;position:absolute;z-index:700;left:0;top:0}#docos-shadow,.dcs-a-dcs-v-dcs-w{height:100%;width:100%}#docos-shadow-description{font-weight:bold}#docos-shadow-confirm,#docos-shadow-delete{margin:2px 7px}.dcs-a-dcs-x .dcs-a-dcs-c-dcs-gc{padding-bottom:6px}.dcs-a-dcs-x .dcs-a-dcs-c-dcs-se{margin:0 4px 0 0}.dcs-a-dcs-x .dcs-a-dcs-c-dcs-fb{background:none}.dcs-a-dcs-g{border-top:1px solid #e8e8e8;font-family:Arial,sans-serif;font-size:12px;padding:18px 0 7px 0;position:relative;outline:none;zoom:1}.dcs-a-dcs-g:last-child{padding-bottom:0}.dcs-a-dcs-g:last-child .dcs-a-dcs-g-dcs-le{padding-bottom:0}.dcs-a-dcs-g .dcs-a-dcs-vb-dcs-eg{min-height:48px}.dcs-a-dcs-jf{margin-right:12px;min-height:51px;padding:0 6px;position:relative;top:-3px}.dcs-a-dcs-vb-dcs-jd .dcs-a-dcs-jf{background-color:#fffbe1}.dcs-a-dcs-vb-dcs-jd.dcs-a-dcs-vb-dcs-wf .dcs-a-dcs-jf{background-color:#f6f6f6}.dcs-a-dcs-g-dcs-t{margin-left:60px;position:relative}.dcs-a-dcs-g-dcs-ic{font-weight:bold}.dcs-a-dcs-g-dcs-bb{color:#333;word-wrap:break-word;top:-7px;zoom:1}.dcs-a-dcs-g.dcs-a-dcs-vb-dcs-wf .dcs-a-dcs-g-dcs-bb{color:#999}.dcs-a-dcs-g .dcs-a-dcs-cb-dcs-rb-dcs-wc-dcs-xc{display:none;right:5px;top:-12px}.dcs-a-dcs-g.dcs-a-dcs-vb-dcs-wf .dcs-a-dcs-cb-dcs-rb-dcs-wc-dcs-xc{display:block}.dcs-a-dcs-g-dcs-hd,.dcs-a-dcs-g-dcs-ue-dcs-ve{font-size:11px;color:#999;padding:0}.dcs-a-dcs-g-dcs-hd,.dcs-a-dcs-g-dcs-kd-dcs-sb{right:2px}.dcs-a-dcs-g-dcs-r{color:#ccc;font-size:12px;line-height:100%;padding:0 2px}.dcs-a-dcs-g-dcs-le{padding:4px 0}.dcs-a-dcs-g-dcs-hd:hover{text-decoration:underline;cursor:pointer}.dcs-a-dcs-g-dcs-c-dcs-d{padding-right:6px;margin-left:30px}.dcs-a-dcs-g-dcs-c-dcs-d .dcs-a-dcs-c-dcs-id{background-color:#fff;border:1px solid #c9d4ec;height:23px;font-size:12px}.dcs-a-dcs-g-dcs-c-dcs-d.dcs-a-dcs-c-dcs-mc .dcs-a-dcs-c-dcs-id{background-color:#fff}.dcs-a-dcs-g-dcs-h-dcs-d .dcs-a-dcs-c-dcs-id{height:36px}.dcs-a-dcs-g-dcs-gd,.dcs-a-dcs-g-dcs-vc{margin:4px 12px 3px 0}.dcs-a-dcs-g-dcs-gd{background-color:#eff2f9;-moz-border-radius:0 0 6px 6px;-webkit-border-radius:0 0 6px 6px;border-radius:0 0 6px 6px;padding:6px 0 2px 6px;position:relative;zoom:1}.dcs-a-dcs-vb-dcs-wf .dcs-a-dcs-g-dcs-gd{background-color:#f6f6f6}.dcs-a-dcs-g-dcs-td{position:absolute;right:0;top:0}.dcs-a-dcs-g.dcs-a-dcs-vb-dcs-wf .dcs-a-dcs-g-dcs-td{right:33px}.dcs-a-dcs-g-dcs-lb{background-color:#fe8;bottom:0;left:0;padding:2px 0;position:absolute;width:100%}.dcs-a-dcs-lb-dcs-yd{font-weight:bold;margin:0 6px;padding:2px 0}.dcs-a-dcs-g .dcs-a-dcs-dc-dcs-mb{position:absolute;right:-12px;top:0}.dcs-a-dcs-g-dcs-kd-dcs-sb{display:inline}.dcs-a-dcs-g-dcs-kd-dcs-sb>.dcs-a-dcs-vb-dcs-kd{font-size:11px;color:#15c}.dcs-a-dcs-g-dcs-qd-dcs-sb>.dcs-a-dcs-vb-dcs-qd,.dcs-a-dcs-g-dcs-rb-dcs-sb>.dcs-a-dcs-vb-dcs-rb{color:#999;line-height:100%}.dcs-a-dcs-g-dcs-qd-dcs-sb>.dcs-a-dcs-vb-dcs-qd:hover,.dcs-a-dcs-g-dcs-kd-dcs-sb>.dcs-a-dcs-vb-dcs-kd:hover,.dcs-a-dcs-g-dcs-rb-dcs-sb>.dcs-a-dcs-vb-dcs-rb:hover{text-decoration:underline;cursor:pointer}.dcs-a-dcs-jf:hover .dcs-a-dcs-vb-dcs-qd,.dcs-a-dcs-jf:hover .dcs-a-dcs-vb-dcs-rb,.dcs-a-dcs-vb-dcs-jd .dcs-a-dcs-vb-dcs-qd,.dcs-a-dcs-vb-dcs-jd .dcs-a-dcs-vb-dcs-rb{color:#15c}.dcs-a-dcs-x-dcs-fe{line-height:140%;outline:none}.dcs-a-dcs-x-dcs-t{padding:0 29px 0 20px;position:relative}.dcs-a-dcs-x-dcs-y{color:#15c;cursor:pointer;font-size:12px;position:absolute;right:0;top:-3px}.dcs-a-dcs-x-dcs-y:hover{text-decoration:underline}.dcs-a-dcs-xf .dcs-a-dcs-x-dcs-y{color:#999;cursor:default}.dcs-a-dcs-xf .dcs-a-dcs-x-dcs-y:hover{text-decoration:none}.dcs-a-dcs-x-dcs-je{bottom:-10px;color:#15c;cursor:pointer;font-size:12px;padding-right:5px;padding-top:5px;position:absolute;right:5px;text-decoration:none}.dcs-a-dcs-xf .dcs-a-dcs-x-dcs-je{display:none}.dcs-a-dcs-x-dcs-nb{color:#333;padding:12px 0}.dcs-a-dcs-x-dcs-z{margin:6px 0 10px 0;position:relative;zoom:1}.dcs-a-dcs-x-dcs-z-dcs-t{margin-left:61px;position:relative;zoom:1}.dcs-a-dcs-x-dcs-ze{font-size:12px;font-weight:bold;margin-bottom:3px;top:-3px}.dcs-a-dcs-x-dcs-zd{font-size:1.2em;margin:20px 5px 2px}.dcs-a-dcs-x-dcs-c-dcs-d{top:-4px}.dcs-a-dcs-x-dcs-c-dcs-d .dcs-a-dcs-c-dcs-se{font-weight:bold}.dcs-a-dcs-x-dcs-c-dcs-d .dcs-a-dcs-c-dcs-id{font-size:12px;height:30px}.dcs-a-dcs-x .dcs-a-dcs-c-dcs-ob-dcs-pb-dcs-qb{color:#666}.dcs-a-dcs-x-dcs-qf{background-color:#dd4b39;border:1px solid #602019;border-radius:4px;color:#fff;margin:6px;padding:6px;text-align:center}.dcs-a-dcs-s{background-color:#eff2f9;color:#666;font-size:12px;padding:6px 6px 0 6px;position:relative;margin-bottom:3px;min-height:24px}.dcs-a-dcs-vb-dcs-wf .dcs-a-dcs-s{background-color:#f6f6f6}.dcs-a-dcs-s-dcs-k{left:6px}.dcs-a-dcs-s-dcs-t{padding-left:30px}.dcs-a-dcs-s-dcs-ac{color:black;font-weight:bold;left:-2px;margin:0 4px;right:-2px}.dcs-a-dcs-s-dcs-bb{color:#333;margin:0;top:-4px;width:100%;word-wrap:break-word}.dcs-a-dcs-vb-dcs-wf .dcs-a-dcs-s-dcs-bb{color:#999}.dcs-a-dcs-s-dcs-pe,.dcs-a-dcs-s-dcs-hd{position:relative;top:-3px}.dcs-a-dcs-s-dcs-pe{width:100%}.dcs-a-dcs-s-dcs-hd{color:#999;font-size:11px;white-space:pre}.dcs-a-dcs-g .dcs-a-dcs-s .dcs-a-dcs-jb-dcs-sb{display:none;top:-3px}.dcs-a-dcs-g .dcs-a-dcs-s:hover .dcs-a-dcs-jb-dcs-sb{display:inline}.dcs-a-dcs-s-dcs-h-dcs-d .dcs-a-dcs-c-dcs-id{height:23px}.dcs-a-dcs-g .dcs-a-dcs-jb-dcs-kb{border-left:1px solid #ccc;font-style:italic;padding:3px 10px 3px 10px;position:relative;zoom:1;word-wrap:break-word}.dcs-a-dcs-jb-dcs-kb-dcs-ud{font-size:11px;color:#999;margin-right:2px;padding:0}.dcs-a-dcs-jb-dcs-kb-dcs-xb{overflow:hidden;height:18px}.dcs-a-dcs-jb-dcs-kb-dcs-yb{background:#fff;padding:3px 5px 0 5px;position:absolute;right:0;top:0}.dcs-a-dcs-jb-dcs-kb-dcs-kc,.dcs-a-dcs-jb-dcs-kb-dcs-yb{color:#15c;visibility:hidden}.dcs-a-dcs-vb-dcs-jd .dcs-a-dcs-jb-dcs-kb-dcs-kc,.dcs-a-dcs-vb-dcs-jd .dcs-a-dcs-jb-dcs-kb-dcs-yb{visibility:visible}.dcs-a-dcs-jb-dcs-kb-dcs-kc{padding-left:3px}.dcs-a-dcs-vb-dcs-jd .dcs-a-dcs-jb-dcs-kb-dcs-yb{background:#fffbe1}.dcs-a-dcs-vb-dcs-jd.dcs-a-dcs-vb-dcs-wf .dcs-a-dcs-jb-dcs-kb-dcs-yb{background:#f6f6f6}.dcs-a-dcs-jb-dcs-kb-dcs-kc:hover,.dcs-a-dcs-jb-dcs-kb-dcs-yb:hover{cursor:pointer;text-decoration:underline}.dcs-a-dcs-id{margin:0;padding:2px;font-family:arial,sans-serif;outline-width:0!important;resize:none}.dcs-a-dcs-jb-dcs-zc,.dcs-a-dcs-jb-dcs-h{color:#15c;font-size:11px;margin:0 2px}.dcs-a-dcs-jb-dcs-zc:hover,.dcs-a-dcs-jb-dcs-h:hover{text-decoration:underline;cursor:pointer}.dcs-a-dcs-c-dcs-fb{margin:2px 0}.dcs-a-dcs-c-dcs-se{margin:2px 7px 2px 0}</style><script gapi_processed="true" src="bootUbuntuCr-48_files/api.js" charset="UTF-8" type="text/javascript"></script><script src="bootUbuntuCr-48_files/ga.js"></script></head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<p>http://www.chromium.org/chromium-os/developer-information-for-chrome-os-devices/cr-48-chrome-notebook-developer-information/how-to-boot-ubuntu-on-a-cr-48</p>
<script src="bootUbuntuCr-48_files/caja.js"> </script>
<script src="bootUbuntuCr-48_files/jot_caja.js"> </script>
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="height:auto;">
<table id="sites-chrome-header" class="sites-layout-hbox" style="height:auto;" cellspacing="0">
<tbody><tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class=""><div class="sites-header-cell-buffer-wrapper"><a href="http://sites.google.com/a/chromium.org/dev/" id="sites-chrome-userheader-logo"><img id="logo-img-id" src="bootUbuntuCr-48_files/customLogo.png" alt="Logo" class="sites-logo "></a><h2><a href="http://sites.google.com/a/chromium.org/dev/" dir="ltr" id="sites-chrome-userheader-title">The Chromium Projects</a></h2></div></td><td class="sites-layout-searchbox "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="/system/app/pages/search"><input id="sites-searchbox-scope" name="scope" value="search-site" type="hidden"><input id="jot-ui-searchInput" name="q" size="20" aria-label="Search this site" type="text"><div id="sites-searchbox-button-set" class="goog-inline-block"><div style="-moz-user-select: none;" role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container">
</td>
</tr>
</tbody></table> 
</div> 
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellpadding="{scmCellpadding}" cellspacing="0" border="0">
<tbody><tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left" style="width:150px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed"><div class="sites-embed-content sites-sidebar-nav"><ul jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/chromium-projects" jotid="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/Home" jotid="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/chromium-os" jotid="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed"><h4 class="sites-embed-title">Quick links</h4><div class="sites-embed-content sites-sidebar-nav"><ul jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/for-testers/bug-reporting-guidelines" class="sites-navigation-link">Report bugs</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/developers/discussion-groups" class="sites-navigation-link">Discuss</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/system/app/pages/sitemap/hierarchy" jotid="wuid:gx:2447893f48dd4eb6" class="sites-navigation-link">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed"><h4 class="sites-embed-title">Other sites</h4><div class="sites-embed-content sites-sidebar-nav"><ul jotid="navList"><li class="nav-first "><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a></div></li><li class=""><div dir="ltr" style="padding-left: 5px;"><a href="https://developers.google.com/chrome/chrome-frame/" class="sites-navigation-link">Google Chrome Frame</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed"><h4 class="sites-embed-title"></h4><div class="sites-embed-content sites-embed-content-sidebar-textbox"><div dir="ltr"><span style="font-size:x-small">Except as otherwise </span><a href="http://code.google.com/policies.html#restrictions"><span style="font-size:x-small">noted</span></a><span style="font-size:x-small">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/"><span style="font-size:x-small">Creative Commons Attribution 2.5 license</span></a><span style="font-size:x-small">, and examples are licensed under the </span><a href="http://src.chromium.org/viewvc/chrome/trunk/src/LICENSE" target="_blank"><span style="font-size:x-small">BSD License</span></a><span style="font-size:x-small">.<br></span></div></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<a dir="ltr" href="http://www.chromium.org/chromium-os">Chromium OS</a>‎ &gt; ‎<a dir="ltr" href="http://www.chromium.org/chromium-os/developer-information-for-chrome-os-devices">Developer Information for Chrome OS Devices</a>‎ &gt; ‎<a dir="ltr" href="http://www.chromium.org/chromium-os/developer-information-for-chrome-os-devices/cr-48-chrome-notebook-developer-information">Cr-48 Chrome Notebook Developer Information</a>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr">How to boot Ubuntu on a Cr-48</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-one-column sites-layout-hbox" cellspacing="0"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div class="sites-embed-align-right-wrapping-on"><div class="sites-embed-border-off sites-embed" style="width:250px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Free-up-some-SSD-space-for-Ubuntu"><strong>1 </strong>Free up some SSD space for Ubuntu</a></li><li class="goog-toc"><a href="#TOC-Acquire-an-Ubuntu-filesystem"><strong>2 </strong>Acquire an Ubuntu filesystem</a></li><li class="goog-toc"><a href="#TOC-Configure-the-kernel"><strong>3 </strong>Configure the kernel</a></li><li class="goog-toc"><a href="#TOC-Set-boot-priority"><strong>4 </strong>Set boot priority</a></li><li class="goog-toc"><a href="#TOC-Footnotes"><strong>5 </strong>Footnotes</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Ugh"><strong>5.1 </strong>Ugh</a></li><li class="goog-toc"><a href="#TOC-Double-ugh"><strong>5.2 </strong>Double-ugh</a></li></ol></li></ol></div></div></div></div><span style="font-size:20px;font-weight:bold">Introduction</span>
<p>While&nbsp;<a href="http://www.chromium.org/chromium-os/chromiumos-design-docs/verified-boot" target="_blank">Chrome OS verified boot</a> protects against unintended system modification by malicious or buggy software, <b>the ability to hack your own device is an <a href="http://www.chromium.org/chromium-os/chromiumos-design-docs/developer-mode">intentional</a> design feature of Google Chrome notebooks</b>. The instructions for <a href="http://www.chromium.org/chromium-os/developer-guide">building your own version of Chromium OS</a>,
 and installing it on a Cr-48&nbsp;are given elsewhere.&nbsp;Some 
enthusiasts, however, may want to install something completely 
different. This page provides an example, showing how the official 
Chrome OS software can coexist with <a href="http://www.ubuntu.com/" target="_blank">Ubuntu</a>, a popular linux distribution. I'm assuming that you're already somewhat familiar with the Chromium OS development environment.<br></p><div><span style="font-size:10pt"><b>Caution: Modifications you make to the system are not supported by Google, may cause hardware</b></span><b style="font-size:10pt"><span style="font-size:10pt">, software or security</span></b><b style="font-size:10pt">&nbsp;issues and may void warranty.</b><span style="font-size:10pt">&nbsp;Be very careful.</span></div>
<p>These instructions work on the Cr-48 as originally shipped. There are
 several magic numbers that may change following software updates or on 
other Chromium OS-based machines. Even if the numbers don't exactly 
match, the basic idea is the same.<br></p>
<p>In the examples below:</p>
<div class="sites-codeblock sites-codesnippet-block"><code>The Cr-48 shell is formatted like this.</code><br>
</div>
<div class="sites-codeblock sites-codesnippet-block"><code><font color="#9900ff">The Chromium OS build chroot is formatted like this.</font></code></div>
<span style="font-family:monospace;line-height:13px">
<div class="sites-codeblock sites-codesnippet-block"><code><font color="#783f04">The standard linux workstation shell is formatted like this.</font></code></div>
<br>
<span style="font-family:Arial,Verdana,sans-serif;font-size:20px;font-weight:bold;line-height:normal">Fair warning</span><br>
</span>
<div>
<p>This is kind of a cheat. The Cr-48's boot process does not support <code><a href="http://www.ibm.com/developerworks/linux/library/l-initrd.html" target="_blank">initrd</a></code>, which is required by Ubuntu. That leaves us three&nbsp;possibilities:</p>
<div>
<ol><li>Use the existing Chrome OS kernel with the Ubuntu rootfs.</li>
<li>Recompile the Ubuntu kernel to do without <code>initrd</code> (<a href="http://www.chromium.org/chromium-os/developer-information-for-chrome-os-devices/cr-48-chrome-notebook-developer-information/how-to-boot-ubuntu-on-a-cr-48#TOC-Ugh">ugh</a>).</li>
<li>Modify the Chrome OS bootstub to handle <code>initrd</code> (<a href="http://www.chromium.org/chromium-os/developer-information-for-chrome-os-devices/cr-48-chrome-notebook-developer-information/how-to-boot-ubuntu-on-a-cr-48#TOC-Double-ugh">double-ugh</a>).</li>
</ol>
</div>
<div>Let's take door #1.</div>
<h2><a name="TOC-Free-up-some-SSD-space-for-Ubuntu"></a>Free up some SSD space for Ubuntu</h2>
<div>To begin our journey, first switch the Cr-48 into&nbsp;<a href="http://www.chromium.org/chromium-os/developer-information-for-chrome-os-devices/cr-48-chrome-notebook-developer-information" target="_blank">developer mode</a>&nbsp;and&nbsp;reboot.
 &nbsp;When you see the blue frowny face with the "Chrome OS 
verification is turned off" message, either wait 30 seconds or hit 
Ctrl-D to boot immediately. This screen is always shown when booting in 
developer mode, to ensure that someone doesn't change your OS without 
your knowledge.</div>
<div><br>
</div>
<div>Switch to <a href="http://www.chromium.org/poking-around-your-chrome-os-device#TOC-Get-the-command-prompt-through-VT-2" target="_blank">VT2</a>&nbsp;(press&nbsp;[ Ctrl ] [ Alt ] [ =&gt; ]), and log in as user 'chronos' (no password required), then run <code>sudo bash</code>.</div>
<div><br>
</div>
<div>To prevent the lock screen from logging you out of VT2, leave 
Chrome OS&nbsp;parked on the&nbsp;login screen. To prevent the backlight
 from dimming while in VT2, run <span style="font-family:monospace;color:rgb(0,96,0)">sudo initctl stop powerd</span>.</div>
<div><br>
</div>
<div>Take a look at the SSD layout. It should be something like this (the UUID values will all be different, of course):</div>
<div><br>
</div>
<div>
<div></div>
</div>
<div class="sites-codeblock sites-codesnippet-block">
<div>
<div><code>localhost ~ # <b>cgpt show /dev/sda</b></code></div>
<div><code>&nbsp;&nbsp; &nbsp; start &nbsp; &nbsp; &nbsp;size &nbsp; &nbsp;part &nbsp;contents</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; 
&nbsp; 1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PMBR (Boot GUID: 
045E5C92-6F57-9B46-BDCC-99BFF876E469)</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pri GPT header</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 2 &nbsp; &nbsp; &nbsp; &nbsp;32 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pri GPT table</code></div>
<div><code>&nbsp;&nbsp; &nbsp;266240 &nbsp;22622208 &nbsp; &nbsp; &nbsp; 1 &nbsp;Label: "STATE"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: Linux data</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
1844A16D-AEC9-7C4B-9553-C3EB4814F6BB</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp;4096 &nbsp; &nbsp; 32768 &nbsp; &nbsp; &nbsp; 2 &nbsp;Label: "KERN-A"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS kernel</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
D176DC60-81F1-654E-8953-E3D28019738C</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Attr: priority=3 
tries=0 successful=1</code></div>
<div><code>&nbsp;&nbsp;27082752 &nbsp; 4194304 &nbsp; &nbsp; &nbsp; 3 &nbsp;Label: "ROOT-A"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS rootfs</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
0193CA51-DA12-9847-A715-C90433E55F60</code></div>
<div><code>&nbsp;&nbsp; &nbsp; 36864 &nbsp; &nbsp; 32768 &nbsp; &nbsp; &nbsp; 4 &nbsp;Label: "KERN-B"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS kernel</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
F1A2C65C-CC22-FF4A-A8BC-67BA233F3D40</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Attr: priority=0 
tries=15 successful=0</code></div>
<div><code>&nbsp;&nbsp;22888448 &nbsp; 4194304 &nbsp; &nbsp; &nbsp; 5 &nbsp;Label: "ROOT-B"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS rootfs</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
B3361FB5-4DAC-9344-B7E5-870B7AC5FEA1</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;34 &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; 6 &nbsp;Label: "KERN-C"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS kernel</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
B6954485-4295-9749-956A-C315B01FB684</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Attr: priority=0 
tries=15 successful=0</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;35 &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; 7 &nbsp;Label: "ROOT-C"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS rootfs</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
5B5202B5-F74B-714E-9538-ADE56B2E5662</code></div>
<div><code>&nbsp;&nbsp; &nbsp; 69632 &nbsp; &nbsp; 32768 &nbsp; &nbsp; &nbsp; 8 &nbsp;Label: "OEM"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: Linux data</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
84971802-0D1C-504B-9CB5-DEA896F0AD3F</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;36 &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; 9 &nbsp;Label: "reserved"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS reserved</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
77375DA6-8F07-704A-BBF4-2BCA662BFDFF</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;37 &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp;10 &nbsp;Label: "reserved"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS reserved</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
6880F478-EB05-8B4B-B951-94A96076263E</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;38 &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp;11 &nbsp;Label: "reserved"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS reserved</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
12DDC236-8FDF-4049-9A2D-10FAB17D3AA9</code></div>
<div><code>&nbsp;&nbsp; &nbsp;233472 &nbsp; &nbsp; 32768 &nbsp; &nbsp; &nbsp;12 &nbsp;Label: "EFI-SYSTEM"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: EFI System 
Partition</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
045E5C92-6F57-9B46-BDCC-99BFF876E469</code></div>
<div><code>&nbsp;&nbsp;31277199 &nbsp; &nbsp; &nbsp; &nbsp;32 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Sec GPT table</code></div>
<div><code>&nbsp;&nbsp;31277231 &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Sec GPT header</code></div>
</div>
<div></div>
</div>
<div><br>
</div>
<div>The units are 512-byte disk sectors.</div>
<div><br>
</div>
<div>
<div>On Chrome OS there are several bootable images, each composed of a 
kernel and a root filesystem (rootfs). &nbsp;For a given image, the 
kernel and rootfs are stored on a pair of consecutive partitions. 
&nbsp;Two of these images,&nbsp;Image-A and Image-B, are for official 
Chrome OS:</div>
<div>
<ul><li>KERN-A and ROOT-A on partitions <code>/dev/sda2</code> and <code>/dev/sda3</code></li>
<li>KERN-B and ROOT-B on partitions <code>/dev/sda4</code> and <code>/dev/sda5</code></li></ul>
</div>
</div>
<div>When the Chrome OS autoupdater downloads a new image (every six 
weeks or so, as new versions are pushed out), it alternately stores it 
in Image-A and Image-B - whichever image isn't currently running. 
&nbsp;The autoupdater even runs in developer mode, as long as we are 
running an official Chrome OS image.</div>
<div><br>
</div>
<div>For Ubuntu, we'll use the currently unassigned Image-C, composed of KERN-C and ROOT-C on partitions&nbsp;<code style="color:rgb(0,96,0)">/dev/sda6</code>&nbsp;and&nbsp;<code style="color:rgb(0,96,0)">/dev/sda7</code>, respectively.</div>
<div><br>
</div>
<div>
<div>
<div>However, initially they are too small so, first we need to grow 
them by stealing from the upper half of the stateful partition, 
STATE&nbsp;(<code style="color:rgb(0,96,0)">/dev/sda1</code>).&nbsp;&nbsp;Initially,
 STATE is 22622208 512-byte sectors, or just under 11 
GB.&nbsp;&nbsp;From this we'll set aside 16 MB for KERN-C, and 5 GB for 
ROOT-C.</div>
</div>
</div>
<div><br>
</div>
<div>
<div></div>
<div class="sites-codeblock sites-codesnippet-block">
<div><code>umount /mnt/stateful_partition</code></div>
<div><code>cgpt add -i 1 -b 266240 &nbsp; &nbsp;-s 12103680 -l STATE &nbsp; /dev/sda</code></div>
<div><code>cgpt add -i 6 -b 12369920 &nbsp;-s 32768 &nbsp; &nbsp;-l KERN-C &nbsp;/dev/sda</code></div>
<div><code>cgpt add -i 7 -b 12402688 &nbsp;-s 10485760 -l ROOT-C &nbsp;/dev/sda</code></div>
</div>
</div>
<div><br>
</div>
<div>Using these values ensures that only the original STATE partition is affected.</div>
<div><br>
</div>
<div>Now the partition table should look something like this (changes in <b>bold</b>):</div>
<div><br>
</div>
<div>
<div></div>
<div class="sites-codeblock sites-codesnippet-block">
<div><code>localhost ~ # <b>cgpt show /dev/sda</b></code></div>
<div><code>&nbsp;&nbsp; &nbsp; start &nbsp; &nbsp; &nbsp;size &nbsp; &nbsp;part &nbsp;contents</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; 
&nbsp; 1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PMBR (Boot GUID: 
045E5C92-6F57-9B46-BDCC-99BFF876E469)</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pri GPT header</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 2 &nbsp; &nbsp; &nbsp; &nbsp;32 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pri GPT table</code></div>
<div><code>&nbsp;&nbsp; &nbsp;<b>266240</b> &nbsp;<b>12103680</b> &nbsp; &nbsp; &nbsp; 1 &nbsp;Label: "STATE"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: Linux data</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
1844A16D-AEC9-7C4B-9553-C3EB4814F6BB</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp;4096 &nbsp; &nbsp; 32768 &nbsp; &nbsp; &nbsp; 2 &nbsp;Label: "KERN-A"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS kernel</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
D176DC60-81F1-654E-8953-E3D28019738C</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Attr: priority=3 
tries=0 successful=1</code></div>
<div><code>&nbsp;&nbsp;27082752 &nbsp; 4194304 &nbsp; &nbsp; &nbsp; 3 &nbsp;Label: "ROOT-A"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS rootfs</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
0193CA51-DA12-9847-A715-C90433E55F60</code></div>
<div><code>&nbsp;&nbsp; &nbsp; 36864 &nbsp; &nbsp; 32768 &nbsp; &nbsp; &nbsp; 4 &nbsp;Label: "KERN-B"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS kernel</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
F1A2C65C-CC22-FF4A-A8BC-67BA233F3D40</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Attr: priority=0 
tries=15 successful=0</code></div>
<div><code>&nbsp;&nbsp;22888448 &nbsp; 4194304 &nbsp; &nbsp; &nbsp; 5 &nbsp;Label: "ROOT-B"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS rootfs</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
B3361FB5-4DAC-9344-B7E5-870B7AC5FEA1</code></div>
<div><code>&nbsp;&nbsp;<b>12369920</b> &nbsp; &nbsp; <b>32768</b> &nbsp; &nbsp; &nbsp; 6 &nbsp;Label: "KERN-C"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS kernel</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
B6954485-4295-9749-956A-C315B01FB684</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Attr: priority=0 
tries=15 successful=0</code></div>
<div><code>&nbsp;&nbsp;<b>12402688</b> &nbsp;<b>10485760</b> &nbsp; &nbsp; &nbsp; 7 &nbsp;Label: "ROOT-C"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS rootfs</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
5B5202B5-F74B-714E-9538-ADE56B2E5662</code></div>
<div><code>&nbsp;&nbsp; &nbsp; 69632 &nbsp; &nbsp; 32768 &nbsp; &nbsp; &nbsp; 8 &nbsp;Label: "OEM"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: Linux data</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
84971802-0D1C-504B-9CB5-DEA896F0AD3F</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;36 &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; 9 &nbsp;Label: "reserved"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS reserved</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
77375DA6-8F07-704A-BBF4-2BCA662BFDFF</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;37 &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp;10 &nbsp;Label: "reserved"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS reserved</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
6880F478-EB05-8B4B-B951-94A96076263E</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;38 &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp;11 &nbsp;Label: "reserved"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS reserved</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
12DDC236-8FDF-4049-9A2D-10FAB17D3AA9</code></div>
<div><code>&nbsp;&nbsp; &nbsp;233472 &nbsp; &nbsp; 32768 &nbsp; &nbsp; &nbsp;12 &nbsp;Label: "EFI-SYSTEM"</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Type: EFI System 
Partition</code></div>
<div><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;UUID: 
045E5C92-6F57-9B46-BDCC-99BFF876E469</code></div>
<div><code>&nbsp;&nbsp;31277199 &nbsp; &nbsp; &nbsp; &nbsp;32 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Sec GPT table</code></div>
<div><code>&nbsp;&nbsp;31277231 &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Sec GPT header</code></div>
</div>
</div>
<div><br>
</div>
<div><br>
</div>
<div>
<div>At this point we should destroy the STATE partition contents, 
because otherwise at the next boot the startup scripts may notice that 
it's corrupted and will erase it using the old size (obtained from 
dumpe2fs) and not the new one. Best to be safe and just zap it now. This
 will take a couple of minutes to run:</div>
</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block"><code>dd if=/dev/zero of=/dev/sda bs=131072 seek=1040 count=47280</code></div>
</div>
<div><br>
</div>
<div>To speed up SSD access, we use a block size of 131,072 bytes (128 KB), which aligns with the SSD erase size.</div>
<div><br>
</div>
<div>And now reboot so that the startup script recreates the required 
files in the stateful partition. This will do a safe wipe first, so 
you'll have to wait a bit (again).</div>
<div><br>
</div>
<div>At this point we're through fiddling with the partition table, so 
you may want to go back to VT2 and set a password according to 
these&nbsp;<a href="http://www.chromium.org/poking-around-your-chrome-os-device#TOC-Get-the-command-prompt-through-VT-2">instructions</a>.</div>
<h2><a name="TOC-Acquire-an-Ubuntu-filesystem"></a>Acquire an Ubuntu filesystem</h2>
<div>First, although the Cr-48 CPU and BIOS is 64-bit, the kernel and 
rootfs are presently 32-bit. Since we're reusing the Chrome OS kernel, 
we'll download and use the 32-bit ubuntu-10.10-desktop-i386.iso from an <a href="https://launchpad.net/ubuntu/+cdmirrors" target="_blank">Ubuntu CD mirror</a>. &nbsp;For example:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block"><font color="#783f04" face="monospace">wget http://mirror.anl.gov/pub/ubuntu-iso/CDs/10.10/ubuntu-10.10-desktop-i386.iso</font></div>
</div>
<div><br>
</div>
<div>Second, even in developer mode, the Cr-48 will only boot external 
drives that are signed by Google. That means we can't (easily) use the 
normal Ubuntu live installer. Instead, I'll create an empty disk image 
file with a 5G partition on it, and use <a href="http://www.virtualbox.org/" target="_blank">VirtualBox</a> to install into that. Then I'll transfer that raw partition onto the Cr-48.</div>
<div><br>
</div>
<div>To install VirtualBox (and its command line management tool, <code>VBoxManage</code>) on Ubuntu:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block"><code><font color="#783f04">sudo aptitude install virtualbox-ose</font></code></div>
</div>
<div><br>
</div>
<div>I'll do this on my normal linux workstation, of course. I'll create
 the file inside the chroot so I can use the cgpt tool, but I'll run 
VirtualBox from outside. We could create the file using fdisk, but using
 cgpt ensures all the numbers match. You could also build the cgpt tool 
for use external to the chroot, but whatever.&nbsp;</div>
<div><br>
</div>
<div>We'll need our disk image to be a little larger than 5G so it has room for the GPT headers.</div>
<div><br>
</div>
<div>So, do the following in the <a href="http://www.chromium.org/chromium-os/developer-guide#TOC-Create-a-chroot">Chromium OS chroot</a>:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block">
<div>
<div><code><font color="#9900ff">cd /tmp</font></code></div>
<div><code><font color="#9900ff">rm -rf test.bin</font></code></div>
<div><code><font color="#9900ff">dd if=/dev/zero bs=512 seek=10486015 count=1 of=test.bin</font></code></div>
<div><code><font color="#9900ff">cgpt create test.bin</font></code></div>
<div><code><font color="#9900ff">cgpt boot -p test.bin</font></code></div>
<div><code><font color="#9900ff">cgpt add -b 128 -s 10485760 -t data -l ubuntu test.bin</font></code></div>
</div>
<div></div>
</div>
<br>
<div>From outside the chroot, translate the binary into a virtualbox disk:</div>
<div><br>
</div>
<div></div>
<div class="sites-codeblock sites-codesnippet-block">
<div><code><font color="#7f6000">cd /path/to/chromiumos/chroot/tmp&nbsp;</font></code></div>
<div><span style="font-family:monospace"><code><font color="#7f6000">VBoxManage convertdd test.bin test.vdi --format VDI</font></code></span></div>
<div></div>
</div>
<div><br>
</div>
<div>Launch the VirtualBox GUI (<code><font color="#783f04">virtualbox</font></code>) and create a new virtual machine with 2G of RAM. Configure <code>test.vdi</code>
 as the existing hard disk (SATA port 0), and attach the Ubuntu .iso as 
the IDE secondary master. Everything else can be left as default.</div>
<div><br>
</div>
<div>Boot the virtual machine and install Ubuntu onto&nbsp;<code>/dev/sda1</code>. &nbsp;The Chrome OS kernel does not use swap memory, so be sure to specify partitions manually. &nbsp;Select the middle&nbsp;<code>/dev/sda1</code>, and format it for <code>ext2</code>, and mount on <code>/</code>.
 &nbsp;The ubuntu installer should warn you that you have no swap 
partition, and it will therefore disable swap. &nbsp;This is what we 
want.</div>
<div><br>
</div>
<div>Once Ubuntu is installed, working and updated, shut the virtual machine down and convert the <code>.vdi</code> image back into a binary:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block"><code><font color="#783f04">VBoxManage internalcommands converttoraw test.vdi test_new.bin</font></code></div>
</div>
<div><br>
</div>
<div>Now, we'll extract just the Ubuntu rootfs partition from the binary file:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block"><code><font color="#783f04">dd if=test_new.bin bs=512 skip=128 count=10485760 of=rootfs.bin</font></code></div>
</div>
<div><br>
</div>
<div>Next, we copy the ubuntu rootfs directly to the Cr-48 ROOT-C partition (<code>/dev/sda7</code>).
 &nbsp;To copy the file, run the following command on the&nbsp;Cr-48, 
where USER@HOST refers to the account and host from which you are 
copying. &nbsp;</div><div><b><br></b></div><div><b>Note:</b>&nbsp;the 
root filesystem is a huge file that will take quite a while to upload. 
&nbsp;This is much less painful with a fast network connection, so, if 
possible, use a USB-to-ethernet adapter to avoid going through Wi-Fi.</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block"><code>ssh USER@HOST cat /path/to/rootfs.bin | dd of=/dev/sda7</code></div>
</div>
<div><br></div><div>If you have to use Wi-Fi, you can reduce the wait with a bit of compression (thanks to Jay Lee for pointing this out):</div><div><br></div><div class="sites-codeblock sites-codesnippet-block"><code>ssh USER@HOST bzip2 -c /path/to/rootfs.bin | bunzip2 -c | dd of=/dev/sda7</code></div><div><br></div>
<div>If your network is flaky you might find it easier to use <code>scp</code> to copy the compressed image to the Cr-48 first, then uncompress and write to <code>/dev/sda7</code>. Or you could just copy the <code>rootfs.bin</code> file to a USB stick instead of using the network, but it's likely to take about as long. You always want to use <code>dd</code> to copy the rootfs image into <code>/dev/sda7</code>, of course.<br><br>You can see that it worked by mounting the new rootfs and looking around:</div>
<div><br>
</div>
<div>
<div></div>
<div class="sites-codeblock sites-codesnippet-block">
<div><code>mkdir /tmp/urfs</code></div>
<div><code>mount /dev/sda7 /tmp/urfs</code></div>
<div><code>ls /tmp/urfs</code></div>
</div>
</div>
<div><br>
</div>
<div>While we're looking, let's copy the <code>cgpt</code> tool into Ubuntu's rootfs. Make sure it's executable. We'll need this later.</div>
<div><br>
</div>
<div>
<div></div>
<div class="sites-codeblock sites-codesnippet-block">
<div><code>cp /usr/bin/cgpt /tmp/urfs/usr/bin/</code></div>
<div><code>chmod a+rx /tmp/urfs/usr/bin/cgpt</code></div>
</div>
</div>
<div><br>
</div>
<div>We'll need to copy all the kernel modules too.</div>
<div><br>
</div>
<div>
<div></div>
<div class="sites-codeblock sites-codesnippet-block">
<div><code>cd /lib/modules</code></div>
<div><code>cp -ar * /tmp/urfs/lib/modules/</code></div>
<div></div>
</div>
<br>
<div>That should do it.</div>
<div><br>
</div>
<div></div>
</div>
<div class="sites-codeblock sites-codesnippet-block">
<div>
<div><code>umount /tmp/urfs</code></div>
</div>
<div></div>
</div>
<br>
<h2><a name="TOC-Configure-the-kernel"></a>Configure the kernel</h2>
<div>The next step is to copy the currently running Chrome OS kernel to KERN-C (<code>/dev/sda6</code>).
 &nbsp;Remember, an image consists of a kernel and a rootfs on 
consecutive partitions. &nbsp;So, to figure out which kernel is running,
 we can check which partition is currently mounted as the rootfs:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block"><code>rootdev -s</code></div>
</div>
<div><br>
</div>
<div>If this prints&nbsp;<code>/dev/sda3</code>&nbsp;(ROOT-A), then our kernel is on&nbsp;<code>/dev/sda2</code>&nbsp;(KERN-A).</div>
<div>If this prints&nbsp;<span style="color:rgb(0,96,0);font-family:monospace">/dev/sda5</span>&nbsp;(ROOT-B), then our kernel is on&nbsp;<span style="color:rgb(0,96,0);font-family:monospace">/dev/sda4</span>&nbsp;(KERN-B).</div>
<div>Assuming our kernel is on <span style="color:rgb(0,96,0);font-family:monospace">/dev/sda2</span>&nbsp;(KERN-A), copy it to&nbsp;<span style="color:rgb(0,96,0);font-family:monospace">/dev/sda6</span>&nbsp;(KERN-C):</div>
<div><br>
</div>
<div></div>
<div class="sites-codeblock sites-codesnippet-block">
<div><code>dd if=/dev/sda2 of=/dev/sda6</code></div>
<div></div>
</div>
<br>
<div>Now we need to change the kernel command line to use our Ubuntu rootfs instead of a Chrome OS rootfs. For this, we'll use&nbsp;<code>make_dev_ssd.sh</code>, located in the Chromium OS source tree under&nbsp;<code>src/platform/vboot_reference/scripts/image_signing/<font color="#000000"><font face="Arial, Verdana, sans-serif">.</font></font></code>&nbsp; The <a href="http://git.chromium.org/cgi-bin/gitweb.cgi?p=vboot_reference.git;a=tree">latest version</a>&nbsp;has options to change individual kernel command lines.</div>
<div><br>
</div>
<div>Use <code>scp</code> to copy it from your host to the stateful partition of the Cr-48. Note we'll also need&nbsp;<code>common_minimal.sh<font color="#000000" face="Arial, Verdana, sans-serif"> from the same directory.</font></code></div>
<div><br>
</div>
<div></div>
<div class="sites-codeblock sites-codesnippet-block">
<div><code>cd /mnt/stateful_partition</code></div>
<div><code>scp USER@HOST:/some/path/to/latest/make_dev_ssd.sh .</code></div>
<div><code>scp USER@HOST:/some/path/to/latest/common.sh .</code></div>
<div></div>
</div>
<br>
<div>Extract the existing kernel command line from KERN-C, and save it to a file named <code>foo.6</code>&nbsp;(the .6 extension is added by the script):</div>
<div><br>
</div>
<div></div>
<div class="sites-codeblock sites-codesnippet-block">
<div><code>sh ./make_dev_ssd.sh --partitions '6' --save_config foo</code></div>
<div></div>
</div>
<div><br>
</div>
<div>
<div>The default Chrome OS kernel command line looks something like this:</div>
<div><br>
</div>
<div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color:rgb(239,239,239);border:1px solid rgb(211,211,211);display:block;padding:0.5em 0px 0.5em 1em;line-height:13px"><code style="color:rgb(0,96,0)"><font color="#000000">quiet
 console=tty2 init=/sbin/init add_efi_memmap boot=local rootwait ro 
noresume noswap i915.modeset=1 loglevel=1 cros_secure kern_guid=%U 
tpm_tis.force=1 tpm_tis.interrupts=0 root=/dev/dm-0 
dm_verity.error_behavior=3 dm_verity.max_bios=-1 dm_verity.dev_wait=1 
dm="vroot none ro,0 1740800 verity /dev/sd%D%P /dev/sd%D%P 1740800 1 
sha1 50adbfb72bb1efda0c1a86dcd1c1d6a0b46726d1" noinitrd</font></code></div>
</div>
</div>
</div>
<br>
<div>The only editor on the Cr-48 is qemacs, so&nbsp;open foo.6 with qemacs:</div>
<div><br>
</div>
<div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color:rgb(239,239,239);border:1px solid rgb(211,211,211);display:block;padding:0.5em 0px 0.5em 1em;line-height:13px"><code style="color:rgb(0,96,0)">qemacs foo.6</code></div>
</div>
</div>
<div><font color="#006000" face="monospace"><br>
</font></div>
<div>Edit the file to look like this:</div>
<div><br>
</div>
<div></div>
<div class="sites-codeblock sites-codesnippet-block">
<div><code><font color="#000000">console=tty1 init=/sbin/init 
add_efi_memmap boot=local rootwait ro noresume noswap i915.modeset=1 
loglevel=7 kern_guid=%U tpm_tis.force=1 tpm_tis.interrupts=0 
root=/dev/sda7 noinitrd</font></code></div>
<div></div>
</div>
<div><br>
</div>
<div>Then save (Ctrl-x Ctrl-s) and exit (Ctrl-x Ctrl-c). qemacs 
occasionally gets confused, so double-check to be sure you have the 
right content:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block"><code>cat foo.6</code></div>
</div>
<div><br>
</div>
<div>Finally, use&nbsp;<code>make_dev_ssd.sh</code>&nbsp;to replace the kernel command line in KERN-C:</div>
<div><br>
</div>
<div></div>
<div class="sites-codeblock sites-codesnippet-block">
<div><code>sh ./make_dev_ssd.sh&nbsp;</code><span style="font-family:monospace;color:rgb(0,96,0)">--partitions '6'&nbsp;</span><span style="font-family:monospace;color:rgb(0,96,0)">--set_config foo</span></div>
<div></div>
</div>
<div><br>
</div>
<div>The kernel command line is part of the kernel partition, and the 
entire partition must be cryptographically signed in order to work. We 
can't replace the command line part without affecting the entire kernel 
partition. The script will save a backup copy before replacing the 
partition content, but we shouldn't need it.</div>
<div><br>
</div>
<div></div>
<h2><a name="TOC-Set-boot-priority"></a>Set boot priority</h2>
<div>At this point we should have the following situation:</div>
<div><br>
</div>
<div>Image-A is an official Google Chrome OS which can boot either in normal mode or dev-mode.</div>
<div>Image-B is (or will be after the first autoupdate) another official
 Google Chrome OS which can boot either in normal mode or dev-mode.</div>
<div>Image-C is Chrome OS kernel with a modified command line and an Ubuntu rootfs, which can only boot in dev-mode.</div>
<div><br>
</div>
<div>Next, we adjust the priority among the images so we can try out our
 Ubuntu image. The image priority is an attribute of its kernel 
partition. &nbsp;Run <code>cgpt show /dev/sda</code> again, to see the kernel priorities:</div>
<div><br>
</div>
<div>
<div></div>
<div class="sites-codeblock sites-codesnippet-block">
<div><span style="font-family:monospace"><span style="font-family:Arial,Verdana,sans-serif">
<div><code style="color:rgb(0,96,0)">localhost ~ #&nbsp;<b>cgpt show /dev/sda</b></code></div>
<div><code><b><font color="#38761d">...</font></b></code></div>
</span></span></div>
<div><span style="font-family:monospace"><font color="#38761d">&nbsp;&nbsp; &nbsp; &nbsp;4096 &nbsp; &nbsp; 32768 &nbsp; &nbsp; &nbsp; 2 &nbsp;Label: "KERN-A"</font></span></div>
<div><code><font color="#38761d">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp;Type: ChromeOS kernel</font></code></div>
<div><code><font color="#38761d">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp;UUID: D176DC60-81F1-654E-8953-E3D28019738C</font></code></div>
<div><code><font color="#38761d">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Attr: <b>priority=3 tries=0 successful=1</b></font></code></div>
<div><span style="font-family:monospace"><font color="#38761d">...</font></span></div>
<div><span style="font-family:monospace"><font color="#38761d">&nbsp;&nbsp; &nbsp; 36864 &nbsp; &nbsp; 32768 &nbsp; &nbsp; &nbsp; 4 &nbsp;Label: "KERN-B"</font></span></div>
<div><code><font color="#38761d">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp;Type: ChromeOS kernel</font></code></div>
<div><code><font color="#38761d">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp;UUID: F1A2C65C-CC22-FF4A-A8BC-67BA233F3D40</font></code></div>
<div><code><font color="#38761d">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Attr: <b>priority=0 tries=15 successful=0</b></font></code></div>
<div><code><font color="#38761d">
<div style="font-family:Arial,Verdana,sans-serif"><code>...</code></div>
<div style="font-family:Arial,Verdana,sans-serif"><code>&nbsp;&nbsp;12369920 &nbsp; &nbsp; 32768 &nbsp; &nbsp; &nbsp; 6 &nbsp;Label: "KERN-C"</code></div>
<div style="font-family:Arial,Verdana,sans-serif"><code>&nbsp;&nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp;Type: ChromeOS kernel</code></div>
<div style="font-family:Arial,Verdana,sans-serif"><code>&nbsp;&nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp;UUID: B6954485-4295-9749-956A-C315B01FB684</code></div>
<div style="font-family:Arial,Verdana,sans-serif"><code>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Attr: <b>priority=0 tries=15 successful=0</b></code></div>
</font></code></div>
</div>
</div>
<div><br>
</div>
<div>The priority determines the order in which the BIOS tries to find a
 valid kernel (bigger is higher, zero means don't even try). The tries 
field is decremented each time the BIOS tries to boot it, and if it's 
zero, the kernel is considered invalid (this lets us boot new images 
without looping forever if they don't work). The successful field 
overrides the tries field, but is only set by the OS once it's up and 
running.</div>
<div><br>
</div>
<div>Let's change the priority of KERN-C to 5:</div>
<div><br>
</div>
<div></div>
<div class="sites-codeblock sites-codesnippet-block">
<div><code>cgpt add -i 6 -P 5 -T 1 -S 0 /dev/sda</code></div>
<div></div>
</div>
<br>
<div>This makes KERN-C the highest priority, but only gives us one 
chance to boot it. That way if it doesn't work, we're not completely 
stuck.</div>
<div><br>
</div>
<div>If you reboot now, you should come up in Ubuntu! &nbsp;Note that Computer Science Standard Answer #1 applies: It Works For Me™</div>
<div><br>
</div>
<div>If something went wrong and Ubuntu crashes or you powered off, the 
tries field for KERN-C will have been decremented to 0 and you'll fall 
back to booting Chrome OS.</div>
<div><br>
</div>
<div>Assuming that Ubuntu booted and you could log in, go to Applications-&gt;Accessories-&gt;Terminal to get a shell, and run</div>
<div><br>
</div>
<div></div>
<div class="sites-codeblock sites-codesnippet-block">
<div><code><font color="#783f04">sudo cgpt add -i 6 -P 5 -S 1 /dev/sda</font></code></div>
<div></div>
</div>
<br>
<div>This will mark the Ubuntu kernel as valid, so it will continue to boot next time.</div>
<div><br>
</div>
<div>Now you can switch back and forth between the official Chrome OS 
release and Ubuntu just by flipping the dev-mode switch. Going from 
dev-mode to normal mode erases STATE (<code>/dev/sda1</code>), but much more quickly. Going from normal to dev-mode again would normally do a slow erase of <code>/dev/sda1</code>, but since we're booting Ubuntu that doesn't happen.</div>
<div><br>
</div>
<div>This works because although KERN-C has the highest priority, it 
isn't signed by Google. In dev-mode that's okay, but in normal mode it 
will be rejected by the BIOS. Since we've set the successful flag to 1, 
the BIOS won't mark it invalid but will just skip it each time. This 
makes the normal-mode boot time slightly longer, but only by a second or
 two.&nbsp;</div>
<div><br>
</div>
<div>Of course you could also switch between images from within dev-mode just by manually setting the priorities with <code>cgpt</code> before rebooting.</div>
<div><br>
</div>
<div>Note that if the normal image autoupdates, it will probably change 
the&nbsp;kernel priorities so that Image-C is no longer the highest and 
the next time you switch to dev mode, you will</div>
<div>&nbsp;&nbsp;a) have a long wait,&nbsp;</div>
<div>&nbsp;&nbsp;b) still be running Chrome OS, and&nbsp;</div>
<div>&nbsp;&nbsp;c) have to use cgpt to raise the KERN-C priority again.&nbsp;</div>
<div><br>
</div>
<div>But, because autoupdate only switches between Image-A and Image-B, the Ubuntu kernel and rootfs shouldn't be affected.</div>
<div><br>
</div>
<h2><a name="TOC-Footnotes"></a>Footnotes</h2>
<h3><a name="TOC-Ugh"></a>Ugh</h3>
<div>Recompiling the Ubuntu kernel should be possible, with a few caveats:</div>
<div><br>
</div>
<div>
<div>First, you'll have to modify or reconfigure the kernel to not use initrd. initramfs should work though.</div>
<div><br>
</div>
<div>Second, official Chrome OS still has a few closed-source hardware 
drivers. &nbsp;The pure open-source Chromium OS experience is therefore a
 bit sub-optimal, although still quite useable.</div>
<div><br>
</div>
<div>Third, if you use the 32-bit image, you'll also have to modify the 
kernel source to boot correctly from the 64-bit Chrome OS BIOS.</div>
<div>See&nbsp;<a href="http://git.chromium.org/cgi-bin/gitweb.cgi?p=kernel.git;a=commit;h=a7cfa1075c04df162d58dc2ed93df6045e9c3271">http://git.chromium.org/cgi-bin/gitweb.cgi?p=kernel.git;a=commit;h=a7cfa1075c04df162d58dc2ed93df6045e9c3271</a>&nbsp;for details.</div>
<div><br>
</div>
<div>If you use a 64-bit image it shouldn't need the boot hacks, but driver support is much less robust.</div>
<div><br>
</div>
<div>Finally, you'll have to sign the kernel yourself and put it into 
the KERN-C partition. That is actually the easiest step, but it's not 
really well documented. Look in the developer pages.</div>
</div>
</div>
<div><br>
</div>
<div>
<h3><a name="TOC-Double-ugh"></a>Double-ugh</h3>
<div><code>initrd</code> is typically handled by the bootloader, which 
reads the specified image from the disk into RAM and passes the address 
to the kernel as it's invoked.</div>
<div><br>
</div>
<div>The Chrome OS BIOS is a modified EFI BIOS. The bootstub is a 
standard EFI Application, but it's embedded in the kernel image in a 
dedicated partition type, rather than accessible through a FAT 
filesystem. To decrease boot time, the BIOS does not discover or pass 
the standard disk drive handles to the bootstub, so the bootstub doesn't
 know anything about disks or filesystems. There is also no 
Compatibility Support Module in the BIOS. In theory <code>elilo</code> or <code>grub2</code>
 could replace the bootstub, but they would have to reimplement some of 
the device discovery functions normally done by an EFI BIOS.</div>
</div>
<div><br>
</div>
<div>If you want to take this on, go for it. That would let us create a 
kernel partition that just contained an EFI bootloader, which could then
 chain-boot to external USB drives, etc. That might be kind of cool.</div>
<div><br>
</div>
<div><hr size="2" width="100%">Some <a href="http://xkcd.com/386/">clarification</a> in response to the wharrgarbl resulting from this howto...<br><ul><li>The
 dev-mode switch is purely for hackers who want to jailbreak their 
notebook. The people who build the notebook don't need it (duh).</li><li>Things
 are locked down by default to try to prevent Bad People from rooting 
your device without your knowledge. It's always been intended that you 
should be able to root it yourself. Go read the <a href="http://www.chromium.org/chromium-os/chromiumos-design-docs/developer-mode">design document</a> for details and background.</li><li>It's
 not a trick. We really don't care what you do with your own property. 
As long as you don't crack open the case, you should always be able to <a href="http://www.google.com/chromeos/recovery">restore it to the original state</a>.<br></li><li>I
 put this hack together in about a day (with another day or so for my 
coworkers to proofread it) which is why it's so complicated. I 
figured you'd want to see an example sooner rather than later.</li><li>wfrichar@chromium.org wrote this. I work for Google, on the Chrome OS verified boot stuff.<br></li></ul>
</div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div dir="ltr" style="text-align: left;" id="sites-comment-docos-pane" class="sites-comment-docos-pane"><div tabindex="0" class="dcs-a dcs-a-dcs-x-dcs-fe dcs-a-dcs-ib"><div class="dcs-a-dcs-x-dcs-t"><div class="dcs-a-dcs-x-dcs-z dcs-me-dcs-hb-dcs-ib"><img data-userid="ANONYMOUS_105250506097979753968" src="bootUbuntuCr-48_files/silhouette96.png" id="dcs-img-0" class="dcs-a-dcs-k g-hovercard" height="48" width="48"><div class="dcs-a-dcs-x-dcs-z-dcs-t"><div id="___hovercard_0" data-userid="ANONYMOUS_105250506097979753968" class="dcs-a-dcs-x-dcs-ze dcs-n-dcs-mf-dcs-nf g-hovercard">Anonymous</div><div class="dcs-a-dcs-c dcs-a-dcs-x-dcs-c-dcs-d"><textarea maxlength="2048" aria-haspopup="true" class="dcs-a-dcs-c-dcs-id" aria-label="Comment draft" x-webkit-speech="" speech="">Add a comment</textarea><div class="dcs-a-dcs-c-dcs-p-dcs-mb"></div><div class="dcs-a-dcs-c-dcs-p-dcs-q"></div><div class="dcs-a-dcs-c-dcs-ob-dcs-pb-dcs-qb" style="display: none">Your +mention will add people to this post and send an email.</div><div class="dcs-a-dcs-c-dcs-gc"><div style="-moz-user-select: none;" role="button" class="dcs-n-dcs-mf-dcs-nf dcs-i-dcs-tb dcs-i-dcs-tb-dcs-ub dcs-a-dcs-c-dcs-se" tabindex="0" title="Post comment"><span class="dcs-a-dcs-c-dcs-gc-dcs-se">Comment</span></div><div style="-moz-user-select: none;" role="button" class="dcs-n-dcs-mf-dcs-nf dcs-i-dcs-tb dcs-i-dcs-tb-dcs-pd dcs-a-dcs-c-dcs-fb" tabindex="0" title="Discard comment">Cancel</div></div></div></div></div><div class="dcs-a-dcs-x-dcs-nb dcs-gb-dcs-hb-dcs-ib dcs-n-dcs-mf-dcs-nf">You have no permission to add comments.</div><div class="dcs-a-dcs-ib dcs-a"></div></div><div></div></div></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</tbody></table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=http://sites.google.com/a/chromium.org/dev/chromium-os/developer-information-for-chrome-os-devices/cr-48-chrome-notebook-developer-information/how-to-boot-ubuntu-on-a-cr-48">Sign in</a>|<a class="sites-system-link" href="http://www.chromium.org/system/app/pages/reportAbuse" target="_blank">Report Abuse</a>|<a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a>|<a class="sites-system-link" href="http://www.chromium.org/system/app/pages/removeAccess" target="_blank">Remove Access</a>|<span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>

<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="bootUbuntuCr-48_files/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
  if (webspace.editorResources['text']) {
    //<![CDATA[
webspace.editorResources['text'].unshift('/system/app/css/overlay.css?cb=beigeandblueundefineda100%25%25150goog-ws-left');
webspace.editorResources['text'].unshift('/_/rsrc/1364510364000/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css');
//]]>

  }
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
    
        sites.core.Analytics.createTracker();
        sites.core.Analytics.trackPageview();
      
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXukca4jaDOG9SuQz_G8t7HlBVeEu8K2L65qiOtfChN4bfH3tUt09sLwkxfIAg-lRO_5l70GJ51Cj-LYICM_IG13LhPbql_ySbewf5kdhoyNt_UnKTvxCtFUGEEBPMr0Ck72suWv/api/js?anon=true', true, true,
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type;
                      window.jstiming.report(loadTimer, {}, 'http://csi.gstatic.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
 //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>

<script type="text/javascript">
              sites.util.Plus.go('sites-chrome-main');
            </script>
<div id="server-timer-div" style="display:none"> </div>
<script>
          window.jstiming.load.tick('render');
        </script>


<div style="display: none;"><iframe src="bootUbuntuCr-48_files/xpc.html" style="height: 100%; width: 100%;" id="xpcpeercNVO" name="xpcpeercNVO"></iframe></div></body></html>
